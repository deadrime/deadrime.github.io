<!DOCTYPE html><html  lang="ru"><head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Пишем свой redux-toolkit</title>
<style>@font-face{font-family:Nunito;src:local("Nunito Light Italic"),url(/_fonts/Gv3N26itc5nu7XjaZgEbx9Y62h53YUbkVYwtF-0sYXM-QSFRn0_Q94n4YOj1Fyp5AwxsrMQEwidxTvupsR3PMuM.woff2) format(woff2);font-display:swap;unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-weight:300;font-style:italic}@font-face{font-family:"Nunito Fallback: Arial";src:local("Arial");size-adjust:101.3906%;ascent-override:99.7134%;descent-override:34.8159%;line-gap-override:0%}@font-face{font-family:Nunito;src:local("Nunito Light Italic"),url(/_fonts/c5EbqH5-O3YVi275aq4Rxb3w33petXJS_036d4sEY_U-LEwI8k4E1pMo18HbIgX1O5Vw2v7R_e4gCKIoNkh7s6A.woff2) format(woff2);font-display:swap;unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-weight:300;font-style:italic}@font-face{font-family:Nunito;src:local("Nunito Light Italic"),url(/_fonts/F9wgGyP-_e09qt_2tSMJycyaYUvQdg86uBXUKKRjDLI-lU9Z4PiJD_E18ZBYJXH8vuXtaEmnWp28jkSPwfnDDIA.woff2) format(woff2);font-display:swap;unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-weight:300;font-style:italic}@font-face{font-family:Nunito;src:local("Nunito Light Italic"),url(/_fonts/RwnAuh7UNPMYMEaz0ThgDoIbYKa7WMoUKGqC32uL8sQ-QTPPhpmb_YJvccD8WH9uvyX1EqSQ-MbbhbfH0gaWyQ0.woff2) format(woff2);font-display:swap;unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF;font-weight:300;font-style:italic}@font-face{font-family:Nunito;src:local("Nunito Light Italic"),url(/_fonts/6Q6XuBlmAjylHt95YkPa5dWZSqN-_4rT6jArrfIUcVI-K2CEJlUNA_ywFMH8txRQRFKycAEeF0_z0pSFl2h2uPE.woff2) format(woff2);font-display:swap;unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-weight:300;font-style:italic}@font-face{font-family:Nunito;src:local("Nunito Regular Italic"),local("Nunito Italic"),url(/_fonts/Gv3N26itc5nu7XjaZgEbx9Y62h53YUbkVYwtF-0sYXM-QSFRn0_Q94n4YOj1Fyp5AwxsrMQEwidxTvupsR3PMuM.woff2) format(woff2);font-display:swap;unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-weight:400;font-style:italic}@font-face{font-family:Nunito;src:local("Nunito Regular Italic"),local("Nunito Italic"),url(/_fonts/c5EbqH5-O3YVi275aq4Rxb3w33petXJS_036d4sEY_U-LEwI8k4E1pMo18HbIgX1O5Vw2v7R_e4gCKIoNkh7s6A.woff2) format(woff2);font-display:swap;unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-weight:400;font-style:italic}@font-face{font-family:Nunito;src:local("Nunito Regular Italic"),local("Nunito Italic"),url(/_fonts/F9wgGyP-_e09qt_2tSMJycyaYUvQdg86uBXUKKRjDLI-lU9Z4PiJD_E18ZBYJXH8vuXtaEmnWp28jkSPwfnDDIA.woff2) format(woff2);font-display:swap;unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-weight:400;font-style:italic}@font-face{font-family:Nunito;src:local("Nunito Regular Italic"),local("Nunito Italic"),url(/_fonts/RwnAuh7UNPMYMEaz0ThgDoIbYKa7WMoUKGqC32uL8sQ-QTPPhpmb_YJvccD8WH9uvyX1EqSQ-MbbhbfH0gaWyQ0.woff2) format(woff2);font-display:swap;unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF;font-weight:400;font-style:italic}@font-face{font-family:Nunito;src:local("Nunito Regular Italic"),local("Nunito Italic"),url(/_fonts/6Q6XuBlmAjylHt95YkPa5dWZSqN-_4rT6jArrfIUcVI-K2CEJlUNA_ywFMH8txRQRFKycAEeF0_z0pSFl2h2uPE.woff2) format(woff2);font-display:swap;unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-weight:400;font-style:italic}@font-face{font-family:Nunito;src:local("Nunito Medium Italic"),url(/_fonts/Gv3N26itc5nu7XjaZgEbx9Y62h53YUbkVYwtF-0sYXM-QSFRn0_Q94n4YOj1Fyp5AwxsrMQEwidxTvupsR3PMuM.woff2) format(woff2);font-display:swap;unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-weight:500;font-style:italic}@font-face{font-family:Nunito;src:local("Nunito Medium Italic"),url(/_fonts/c5EbqH5-O3YVi275aq4Rxb3w33petXJS_036d4sEY_U-LEwI8k4E1pMo18HbIgX1O5Vw2v7R_e4gCKIoNkh7s6A.woff2) format(woff2);font-display:swap;unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-weight:500;font-style:italic}@font-face{font-family:Nunito;src:local("Nunito Medium Italic"),url(/_fonts/F9wgGyP-_e09qt_2tSMJycyaYUvQdg86uBXUKKRjDLI-lU9Z4PiJD_E18ZBYJXH8vuXtaEmnWp28jkSPwfnDDIA.woff2) format(woff2);font-display:swap;unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-weight:500;font-style:italic}@font-face{font-family:Nunito;src:local("Nunito Medium Italic"),url(/_fonts/RwnAuh7UNPMYMEaz0ThgDoIbYKa7WMoUKGqC32uL8sQ-QTPPhpmb_YJvccD8WH9uvyX1EqSQ-MbbhbfH0gaWyQ0.woff2) format(woff2);font-display:swap;unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF;font-weight:500;font-style:italic}@font-face{font-family:Nunito;src:local("Nunito Medium Italic"),url(/_fonts/6Q6XuBlmAjylHt95YkPa5dWZSqN-_4rT6jArrfIUcVI-K2CEJlUNA_ywFMH8txRQRFKycAEeF0_z0pSFl2h2uPE.woff2) format(woff2);font-display:swap;unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-weight:500;font-style:italic}@font-face{font-family:Nunito;src:local("Nunito Bold Italic"),url(/_fonts/Gv3N26itc5nu7XjaZgEbx9Y62h53YUbkVYwtF-0sYXM-QSFRn0_Q94n4YOj1Fyp5AwxsrMQEwidxTvupsR3PMuM.woff2) format(woff2);font-display:swap;unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-weight:700;font-style:italic}@font-face{font-family:Nunito;src:local("Nunito Bold Italic"),url(/_fonts/c5EbqH5-O3YVi275aq4Rxb3w33petXJS_036d4sEY_U-LEwI8k4E1pMo18HbIgX1O5Vw2v7R_e4gCKIoNkh7s6A.woff2) format(woff2);font-display:swap;unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-weight:700;font-style:italic}@font-face{font-family:Nunito;src:local("Nunito Bold Italic"),url(/_fonts/F9wgGyP-_e09qt_2tSMJycyaYUvQdg86uBXUKKRjDLI-lU9Z4PiJD_E18ZBYJXH8vuXtaEmnWp28jkSPwfnDDIA.woff2) format(woff2);font-display:swap;unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-weight:700;font-style:italic}@font-face{font-family:Nunito;src:local("Nunito Bold Italic"),url(/_fonts/RwnAuh7UNPMYMEaz0ThgDoIbYKa7WMoUKGqC32uL8sQ-QTPPhpmb_YJvccD8WH9uvyX1EqSQ-MbbhbfH0gaWyQ0.woff2) format(woff2);font-display:swap;unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF;font-weight:700;font-style:italic}@font-face{font-family:Nunito;src:local("Nunito Bold Italic"),url(/_fonts/6Q6XuBlmAjylHt95YkPa5dWZSqN-_4rT6jArrfIUcVI-K2CEJlUNA_ywFMH8txRQRFKycAEeF0_z0pSFl2h2uPE.woff2) format(woff2);font-display:swap;unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-weight:700;font-style:italic}@font-face{font-family:Nunito;src:local("Nunito Light"),url(/_fonts/zYq67hdcUczqSIZ2lO8GyyK4ATcRo_C9msD9doXlryo-cDOGo5qrb3T_7FdWKfnHOh5Eg0xvWDQcv0--0lE32SU.woff2) format(woff2);font-display:swap;unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-weight:300;font-style:normal}@font-face{font-family:Nunito;src:local("Nunito Light"),url(/_fonts/mUOAuUJd2c8UC4QUmauqVqol8dwl5799No6v0n0PoIM-BEYg1HwWoe0oxhIA3qbE2PM43VvuSvl5QgPbh9DzSTM.woff2) format(woff2);font-display:swap;unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-weight:300;font-style:normal}@font-face{font-family:Nunito;src:local("Nunito Light"),url(/_fonts/vIl7QUQw0D77nxCKLHMyEXvljoFJ3hoM_u51y8dOTXM-QZls7sK2uuQYdGH_IjvzN_EZWYtk2xt6bq7uj4Lb7ms.woff2) format(woff2);font-display:swap;unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-weight:300;font-style:normal}@font-face{font-family:Nunito;src:local("Nunito Light"),url(/_fonts/08ijydirlbAcEOPIwZn62rEkph1eISMb7SGGtj1ErkA-E5c31gI_GCbDiyW5QFJA9bbsW2NTkNk8jdomF81Lns8.woff2) format(woff2);font-display:swap;unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF;font-weight:300;font-style:normal}@font-face{font-family:Nunito;src:local("Nunito Light"),url(/_fonts/OIZUQWBqizjrQ3dcrE-HYC-Fffn3yhk5jHYerEEBU7g-XMkgz7DgRsn2BEj57O88shN78t531qKkxJ0n6HGCDLQ.woff2) format(woff2);font-display:swap;unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-weight:300;font-style:normal}@font-face{font-family:Nunito;src:local("Nunito Regular"),local("Nunito"),url(/_fonts/zYq67hdcUczqSIZ2lO8GyyK4ATcRo_C9msD9doXlryo-cDOGo5qrb3T_7FdWKfnHOh5Eg0xvWDQcv0--0lE32SU.woff2) format(woff2);font-display:swap;unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-weight:400;font-style:normal}@font-face{font-family:Nunito;src:local("Nunito Regular"),local("Nunito"),url(/_fonts/mUOAuUJd2c8UC4QUmauqVqol8dwl5799No6v0n0PoIM-BEYg1HwWoe0oxhIA3qbE2PM43VvuSvl5QgPbh9DzSTM.woff2) format(woff2);font-display:swap;unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-weight:400;font-style:normal}@font-face{font-family:Nunito;src:local("Nunito Regular"),local("Nunito"),url(/_fonts/vIl7QUQw0D77nxCKLHMyEXvljoFJ3hoM_u51y8dOTXM-QZls7sK2uuQYdGH_IjvzN_EZWYtk2xt6bq7uj4Lb7ms.woff2) format(woff2);font-display:swap;unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-weight:400;font-style:normal}@font-face{font-family:Nunito;src:local("Nunito Regular"),local("Nunito"),url(/_fonts/08ijydirlbAcEOPIwZn62rEkph1eISMb7SGGtj1ErkA-E5c31gI_GCbDiyW5QFJA9bbsW2NTkNk8jdomF81Lns8.woff2) format(woff2);font-display:swap;unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF;font-weight:400;font-style:normal}@font-face{font-family:Nunito;src:local("Nunito Regular"),local("Nunito"),url(/_fonts/OIZUQWBqizjrQ3dcrE-HYC-Fffn3yhk5jHYerEEBU7g-XMkgz7DgRsn2BEj57O88shN78t531qKkxJ0n6HGCDLQ.woff2) format(woff2);font-display:swap;unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-weight:400;font-style:normal}@font-face{font-family:Nunito;src:local("Nunito Medium"),url(/_fonts/zYq67hdcUczqSIZ2lO8GyyK4ATcRo_C9msD9doXlryo-cDOGo5qrb3T_7FdWKfnHOh5Eg0xvWDQcv0--0lE32SU.woff2) format(woff2);font-display:swap;unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-weight:500;font-style:normal}@font-face{font-family:Nunito;src:local("Nunito Medium"),url(/_fonts/mUOAuUJd2c8UC4QUmauqVqol8dwl5799No6v0n0PoIM-BEYg1HwWoe0oxhIA3qbE2PM43VvuSvl5QgPbh9DzSTM.woff2) format(woff2);font-display:swap;unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-weight:500;font-style:normal}@font-face{font-family:Nunito;src:local("Nunito Medium"),url(/_fonts/vIl7QUQw0D77nxCKLHMyEXvljoFJ3hoM_u51y8dOTXM-QZls7sK2uuQYdGH_IjvzN_EZWYtk2xt6bq7uj4Lb7ms.woff2) format(woff2);font-display:swap;unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-weight:500;font-style:normal}@font-face{font-family:Nunito;src:local("Nunito Medium"),url(/_fonts/08ijydirlbAcEOPIwZn62rEkph1eISMb7SGGtj1ErkA-E5c31gI_GCbDiyW5QFJA9bbsW2NTkNk8jdomF81Lns8.woff2) format(woff2);font-display:swap;unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF;font-weight:500;font-style:normal}@font-face{font-family:Nunito;src:local("Nunito Medium"),url(/_fonts/OIZUQWBqizjrQ3dcrE-HYC-Fffn3yhk5jHYerEEBU7g-XMkgz7DgRsn2BEj57O88shN78t531qKkxJ0n6HGCDLQ.woff2) format(woff2);font-display:swap;unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-weight:500;font-style:normal}@font-face{font-family:Nunito;src:local("Nunito Bold"),url(/_fonts/zYq67hdcUczqSIZ2lO8GyyK4ATcRo_C9msD9doXlryo-cDOGo5qrb3T_7FdWKfnHOh5Eg0xvWDQcv0--0lE32SU.woff2) format(woff2);font-display:swap;unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-weight:700;font-style:normal}@font-face{font-family:Nunito;src:local("Nunito Bold"),url(/_fonts/mUOAuUJd2c8UC4QUmauqVqol8dwl5799No6v0n0PoIM-BEYg1HwWoe0oxhIA3qbE2PM43VvuSvl5QgPbh9DzSTM.woff2) format(woff2);font-display:swap;unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-weight:700;font-style:normal}@font-face{font-family:Nunito;src:local("Nunito Bold"),url(/_fonts/vIl7QUQw0D77nxCKLHMyEXvljoFJ3hoM_u51y8dOTXM-QZls7sK2uuQYdGH_IjvzN_EZWYtk2xt6bq7uj4Lb7ms.woff2) format(woff2);font-display:swap;unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-weight:700;font-style:normal}@font-face{font-family:Nunito;src:local("Nunito Bold"),url(/_fonts/08ijydirlbAcEOPIwZn62rEkph1eISMb7SGGtj1ErkA-E5c31gI_GCbDiyW5QFJA9bbsW2NTkNk8jdomF81Lns8.woff2) format(woff2);font-display:swap;unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF;font-weight:700;font-style:normal}@font-face{font-family:Nunito;src:local("Nunito Bold"),url(/_fonts/OIZUQWBqizjrQ3dcrE-HYC-Fffn3yhk5jHYerEEBU7g-XMkgz7DgRsn2BEj57O88shN78t531qKkxJ0n6HGCDLQ.woff2) format(woff2);font-display:swap;unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-weight:700;font-style:normal}@font-face{font-family:Nunito;src:local("Nunito Light Italic"),url(/_fonts/r4KoPwji1mcA5uJV3hh32HTDd3R9fjL5Naapm6m7YUI-7CkqVAgOiSNjNpQ7letqB46bAiQJcpnz_B6GOl6BMx4.woff) format(woff);font-display:swap;font-weight:300;font-style:italic}@font-face{font-family:Nunito;src:local("Nunito Regular Italic"),local("Nunito Italic"),url(/_fonts/Uiv3LznkEcj2EA0k6ut0Fp2NIGQZ2YRT5AylHKG1Q90-uTyQBfHx9SXw_Z6sGwUzo0wR4c0tn7YnbdkeibSse_U.woff) format(woff);font-display:swap;font-weight:400;font-style:italic}@font-face{font-family:Nunito;src:local("Nunito Medium Italic"),url(/_fonts/oki_Vyb-XjhJ7CMdijrHkeY-uotk1paHqjz87QtJ1c8-FgJRHyu3EEpOnVKDNS8ZYS9dCMj9UTdB3FqLwTM6tps.woff) format(woff);font-display:swap;font-weight:500;font-style:italic}@font-face{font-family:Nunito;src:local("Nunito Bold Italic"),url(/_fonts/9oAyLNdy5_WsYSz8ckL6Ixt5iTeUQa2kslFr0lPakPk-l9cVQ8je3N1DwIB6EFxw4RH7CfHvPrdhEE1wjhZ6puw.woff) format(woff);font-display:swap;font-weight:700;font-style:italic}@font-face{font-family:Nunito;src:local("Nunito Light"),url(/_fonts/TIsQT9HWJUPY4-EneSzmQnZ1QxfYnWm3YI2foXNWNYI-oqJRBFSt_vmKxK4-VBQ3uItXYzuHS1Ae_LWF6kBpDDY.woff) format(woff);font-display:swap;font-weight:300;font-style:normal}@font-face{font-family:Nunito;src:local("Nunito Regular"),local("Nunito"),url(/_fonts/X-AAt_bt-betQu9KO9rIq5Hg6sMuQhG3W1M-Aicx40g-GcT1EfPO_NV4Lg5Z_15ANnVWtDsfmrv35Dg-jEmN96g.woff) format(woff);font-display:swap;font-weight:400;font-style:normal}@font-face{font-family:Nunito;src:local("Nunito Medium"),url(/_fonts/IQN9E9EyQBCc0jpGae-jNhOPuOBgTKXjrOOyl1ZZoLU-Zd6TLnERaemw_G_Di2vNcVS91W3csAzocPw6mVEKP5Y.woff) format(woff);font-display:swap;font-weight:500;font-style:normal}@font-face{font-family:Nunito;src:local("Nunito Bold"),url(/_fonts/7SZw5O-GBAPw0EkS4sYT5WEAtq8ULp--Q2dMyMwAwLw-IO6IJQhfajbQpLaz_G-IGGOgOv6BwNjADrZ5PHRRyM4.woff) format(woff);font-display:swap;font-weight:700;font-style:normal}@font-face{font-family:Fira Code;src:local("Fira Code Regular"),local("Fira Code"),url(/_fonts/Lc_5lWuBuZcZ166p1-s-mnGkMJwIYJE_QDCkws8iCkI-6h_MabZzAGSbXeypWzaH0R9FIpYPEA7aFg6sTV9o5cc.woff2) format(woff2);font-display:swap;unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-weight:400;font-style:normal}@font-face{font-family:"Fira Code Fallback: Arial";src:local("Arial");size-adjust:134.5893%;ascent-override:73.5571%;descent-override:23.9246%;line-gap-override:0%}@font-face{font-family:Fira Code;src:local("Fira Code Regular"),local("Fira Code"),url(/_fonts/Bmul3LaKlc7BUKqJHE_UmEoF40Sg_2ga52yJjwyDcKs-JqHPRQVbw4DDIkFP2lMAShJee9r_GHk3HjfznQHNDrQ.woff2) format(woff2);font-display:swap;unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-weight:400;font-style:normal}@font-face{font-family:Fira Code;src:local("Fira Code Regular"),local("Fira Code"),url(/_fonts/DfgmjWGpWte3Q3a54Nevr_BYmMM5YEJXRI1CdI2VwO0-nvbAEECNX0Fjhwuy8p8TEGghuF6saV1ZZf5buHw2jd4.woff2) format(woff2);font-display:swap;unicode-range:U+1F00-1FFF;font-weight:400;font-style:normal}@font-face{font-family:Fira Code;src:local("Fira Code Regular"),local("Fira Code"),url(/_fonts/4HA9tc4y8BVQeLXvLn3JgQqilAj1xrAnUSprQGHIPSw-lzM3z9XlzbTcBb3hSMEIcyok98RkTy2rkidNBSVx82I.woff2) format(woff2);font-display:swap;unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF;font-weight:400;font-style:normal}@font-face{font-family:Fira Code;src:local("Fira Code Regular"),local("Fira Code"),url(/_fonts/_VOLq6Djq_KKauivKE3Odyi_P1hKqd5ObJM4o1tkYbY-eo8JSHJMHYWr1HT4NkU_N9S322eXnM0IkQpahNeM6tM.woff2) format(woff2);font-display:swap;unicode-range:U+2000-2001,U+2004-2008,U+200A,U+23B8-23BD,U+2500-259F;font-weight:400;font-style:normal}@font-face{font-family:Fira Code;src:local("Fira Code Regular"),local("Fira Code"),url(/_fonts/iEvApgDRmzKzNqOYocBTrmcHZmuGAJloawKDP1S0nyE-8ecqPxXcJaz7N5ORrA_hnHo5G6rapJJOl8IqIYf_no4.woff2) format(woff2);font-display:swap;unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF;font-weight:400;font-style:normal}@font-face{font-family:Fira Code;src:local("Fira Code Regular"),local("Fira Code"),url(/_fonts/0xp3SbCWC1OhX7q1-uF6kilMZFm-alJNkUtkLTPCy_A-kG_qDBLa3EAN5xWQoIuKg0XSK5XxnFKMs8uC6BuMJIY.woff2) format(woff2);font-display:swap;unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-weight:400;font-style:normal}@font-face{font-family:Fira Code;src:local("Fira Code Regular"),local("Fira Code"),url(/_fonts/QIrMHah7Q1jbm8j1K8rPyKqZTsIPEZ8UIejniG1MbLU-_C_jqcI9OuM0eHB3n6iUZYMgzkdhXehpxrHbCxBTv-0.woff) format(woff);font-display:swap;font-weight:400;font-style:normal}@font-face{font-family:Igra Sans;src:local("Igra Sans Regular"),local("Igra Sans"),url(/fonts/IgraSans.woff2) format(woff2);font-display:swap;font-weight:400;font-style:normal}/*! tailwindcss v4.1.10 | MIT License | https://tailwindcss.com */@layer properties{@supports ((-webkit-hyphens:none) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,::backdrop,:after,:before{--tw-translate-x:0;--tw-translate-y:0;--tw-translate-z:0;--tw-rotate-x:initial;--tw-rotate-y:initial;--tw-rotate-z:initial;--tw-skew-x:initial;--tw-skew-y:initial;--tw-border-style:solid;--tw-leading:initial;--tw-font-weight:initial;--tw-outline-style:solid;--tw-blur:initial;--tw-brightness:initial;--tw-contrast:initial;--tw-grayscale:initial;--tw-hue-rotate:initial;--tw-invert:initial;--tw-opacity:initial;--tw-saturate:initial;--tw-sepia:initial;--tw-drop-shadow:initial;--tw-drop-shadow-color:initial;--tw-drop-shadow-alpha:100%;--tw-drop-shadow-size:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000}}}@layer theme{:host,:root{--font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--color-slate-100:oklch(96.8% .007 247.896);--color-gray-50:#e9e9e9;--color-gray-100:oklch(96.7% .003 264.542);--color-gray-200:#c4c4c4;--color-gray-500:oklch(55.1% .027 264.364);--color-gray-600:oklch(44.6% .03 256.802);--color-gray-700:oklch(37.3% .034 259.733);--color-gray-800:#2d3035;--color-black:#000;--color-white:#fff;--spacing:.25rem;--breakpoint-sm:40rem;--breakpoint-md:48rem;--container-lg:32rem;--container-xl:36rem;--text-lg:clamp(1.5625rem,1.4273rem + .601vi,1.9531rem);--text-lg--line-height:1.55556;--text-xl:clamp(1.9531rem,1.7841rem + .7512vi,2.4414rem);--text-xl--line-height:1.4;--text-2xl:clamp(2.4414rem,2.2301rem + .939vi,3.0518rem);--text-2xl--line-height:1.33333;--font-weight-normal:400;--font-weight-medium:500;--font-weight-semibold:600;--font-weight-bold:700;--leading-tight:1.25;--radius-sm:.25rem;--radius-md:.375rem;--radius-lg:.5rem;--radius-3xl:1.5rem;--blur-2xl:40px;--blur-3xl:64px;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono);--text-body2:clamp(.9rem,.7308rem + .3077vi,1rem);--text-body1:clamp(1rem,.9135rem + .3846vi,1.25rem);--text-md:clamp(1.25rem,1.1418rem + .4808vi,1.375rem);--font-base:"Nunito",system-ui,sans-serif;--font-primary:"Igra Sans";--font-fira:"Fira Code",monospace;--color-background:#fff6ed;--color-primary:#dc8b5e;--color-secondary:#615a6c;--color-details:#e5e1de;--color-text:#17141f;--color-neutral:#c2b5a9}:root[data-theme=dark]{--color-text:#fff6ed;--color-background:#0f0d1b;--color-border:#374151;--color-details:#2c2636;--color-primary:#ffbe98;--color-secondary:#c2b5a9;--color-neutral:#615a6c}}@layer base{*,::backdrop,:after,:before{border:0 solid;box-sizing:border-box;margin:0;padding:0}::file-selector-button{border:0 solid;box-sizing:border-box;margin:0;padding:0}:host,html{-webkit-text-size-adjust:100%;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-tap-highlight-color:transparent}hr{border-top-width:1px;color:inherit;height:0}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-size:1em;font-variation-settings:var(--default-mono-font-variation-settings,normal)}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-collapse:collapse;border-color:inherit;text-indent:0}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}menu,ol,ul{list-style:none}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{height:auto;max-width:100%}button,input,optgroup,select,textarea{background-color:#0000;border-radius:0;color:inherit;font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;opacity:1}::file-selector-button{background-color:#0000;border-radius:0;color:inherit;font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;opacity:1}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::-moz-placeholder{opacity:1}::placeholder{opacity:1}@supports (not (-webkit-appearance:-apple-pay-button)) or (contain-intrinsic-size:1px){::-moz-placeholder{color:currentColor}::placeholder{color:currentColor}@supports (color:color-mix(in lab,red,red)){::-moz-placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit,::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-millisecond-field,::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){-webkit-appearance:button;-moz-appearance:button;appearance:button}::file-selector-button{-webkit-appearance:button;-moz-appearance:button;appearance:button}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}:focus-visible{border-radius:var(--radius-md);--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow);--tw-ring-color:var(--color-primary);--tw-ring-offset-width:2px;--tw-ring-offset-shadow:var(--tw-ring-inset,)0 0 0 var(--tw-ring-offset-width)var(--tw-ring-offset-color);--tw-ring-offset-color:var(--color-background);--tw-outline-style:none;outline-style:none}}@layer components;@layer utilities{.\@container{container-type:inline-size}.pointer-events-none{pointer-events:none}.absolute{position:absolute}.relative{position:relative}.-top-5{top:calc(var(--spacing)*-5)}.top-4{top:calc(var(--spacing)*4)}.left-0{left:calc(var(--spacing)*0)}.container{width:100%}@media (min-width:40rem){.container{max-width:40rem}}@media (min-width:48rem){.container{max-width:48rem}}@media (min-width:64rem){.container{max-width:64rem}}@media (min-width:80rem){.container{max-width:80rem}}@media (min-width:96rem){.container{max-width:96rem}}.mx-auto{margin-inline:auto}.my-2{margin-block:calc(var(--spacing)*2)}.my-4{margin-block:calc(var(--spacing)*4)}.my-11{margin-block:calc(var(--spacing)*11)}.mt-0{margin-top:calc(var(--spacing)*0)}.mt-3{margin-top:calc(var(--spacing)*3)}.mt-4{margin-top:calc(var(--spacing)*4)}.mt-8{margin-top:calc(var(--spacing)*8)}.mt-11{margin-top:calc(var(--spacing)*11)}.mt-12{margin-top:calc(var(--spacing)*12)}.mt-14{margin-top:calc(var(--spacing)*14)}.mt-auto{margin-top:auto}.mr-1\.5{margin-right:calc(var(--spacing)*1.5)}.mb-3{margin-bottom:calc(var(--spacing)*3)}.mb-4{margin-bottom:calc(var(--spacing)*4)}.mb-6{margin-bottom:calc(var(--spacing)*6)}.mb-8{margin-bottom:calc(var(--spacing)*8)}.mb-11{margin-bottom:calc(var(--spacing)*11)}.ml-3{margin-left:calc(var(--spacing)*3)}.ml-auto{margin-left:auto}.block{display:block}.contents{display:contents}.flex{display:flex}.grid{display:grid}.hidden{display:none}.inline{display:inline}.inline-flex{display:inline-flex}.aspect-38\/20{aspect-ratio:38/20}.size-6{height:calc(var(--spacing)*6);width:calc(var(--spacing)*6)}.size-\[0\.625rem\]{height:.625rem;width:.625rem}.h-8{height:calc(var(--spacing)*8)}.h-20{height:calc(var(--spacing)*20)}.h-\[22px\]{height:22px}.h-\[32px\]{height:32px}.min-h-screen{min-height:100vh}.w-5{width:calc(var(--spacing)*5)}.w-8{width:calc(var(--spacing)*8)}.w-\[2px\]{width:2px}.w-\[22px\]{width:22px}.w-\[32px\]{width:32px}.w-full{width:100%}.w-max{width:-moz-max-content;width:max-content}.max-w-\[calc\(1180px\+2rem\)\]{max-width:calc(1180px + 2rem)}.max-w-lg{max-width:var(--container-lg)}.max-w-xl{max-width:var(--container-xl)}.min-w-max{min-width:-moz-max-content;min-width:max-content}.shrink-0{flex-shrink:0}.-translate-x-1\/2{--tw-translate-x:-50%}.-translate-x-1\/2,.-translate-x-\[2px\]{translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-x-\[2px\]{--tw-translate-x:-2px}.transform{transform:var(--tw-rotate-x,)var(--tw-rotate-y,)var(--tw-rotate-z,)var(--tw-skew-x,)var(--tw-skew-y,)}.cursor-pointer{cursor:pointer}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-between{justify-content:space-between}.gap-1{gap:calc(var(--spacing)*1)}.gap-2{gap:calc(var(--spacing)*2)}.gap-3{gap:calc(var(--spacing)*3)}.gap-4{gap:calc(var(--spacing)*4)}.gap-5{gap:calc(var(--spacing)*5)}.gap-6{gap:calc(var(--spacing)*6)}.gap-8{gap:calc(var(--spacing)*8)}.gap-x-5{-moz-column-gap:calc(var(--spacing)*5);column-gap:calc(var(--spacing)*5)}.gap-x-6{-moz-column-gap:calc(var(--spacing)*6);column-gap:calc(var(--spacing)*6)}.gap-y-1{row-gap:calc(var(--spacing)*1)}.self-start{align-self:flex-start}.overflow-hidden{overflow:hidden}.rounded-3xl{border-radius:var(--radius-3xl)}.rounded-\[2px\]{border-radius:2px}.rounded-full{border-radius:3.40282e+38px}.rounded-lg{border-radius:var(--radius-lg)}.rounded-md{border-radius:var(--radius-md)}.rounded-sm{border-radius:var(--radius-sm)}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.border{border-style:var(--tw-border-style);border-width:1px}.border-2{border-style:var(--tw-border-style);border-width:2px}.border-t-\[6px\]{border-top-style:var(--tw-border-style);border-top-width:6px}.border-b-2{border-bottom-style:var(--tw-border-style);border-bottom-width:2px}.border-l-2{border-left-style:var(--tw-border-style);border-left-width:2px}.border-none{--tw-border-style:none;border-style:none}.border-details{border-color:var(--color-details)}.border-gray-100{border-color:var(--color-gray-100)}.border-gray-200\/30{border-color:#c4c4c44d}@supports (color:color-mix(in lab,red,red)){.border-gray-200\/30{border-color:color-mix(in oklab,var(--color-gray-200)30%,transparent)}}.border-gray-600{border-color:var(--color-gray-600)}.border-transparent{border-color:#0000}.bg-\[var\(--shiki-light-bg\)\]{background-color:var(--shiki-light-bg)}.bg-background{background-color:var(--color-background)}.bg-black{background-color:var(--color-black)}.bg-details\/50{background-color:#e5e1de80}@supports (color:color-mix(in lab,red,red)){.bg-details\/50{background-color:color-mix(in oklab,var(--color-details)50%,transparent)}}.bg-gray-50{background-color:var(--color-gray-50)}.bg-gray-100{background-color:var(--color-gray-100)}.bg-primary{background-color:var(--color-primary)}.bg-primary\/40{background-color:#dc8b5e66}@supports (color:color-mix(in lab,red,red)){.bg-primary\/40{background-color:color-mix(in oklab,var(--color-primary)40%,transparent)}}.bg-secondary{background-color:var(--color-secondary)}.bg-slate-100\/10{background-color:#f1f5f91a}@supports (color:color-mix(in lab,red,red)){.bg-slate-100\/10{background-color:color-mix(in oklab,var(--color-slate-100)10%,transparent)}}.bg-transparent{background-color:#0000}.bg-white{background-color:var(--color-white)}.object-cover{-o-object-fit:cover;object-fit:cover}.object-center{-o-object-position:center;object-position:center}.p-0{padding:calc(var(--spacing)*0)}.p-4{padding:calc(var(--spacing)*4)}.px-2{padding-inline:calc(var(--spacing)*2)}.px-3{padding-inline:calc(var(--spacing)*3)}.px-3\.5{padding-inline:calc(var(--spacing)*3.5)}.px-4{padding-inline:calc(var(--spacing)*4)}.py-2{padding-block:calc(var(--spacing)*2)}.py-8{padding-block:calc(var(--spacing)*8)}.py-\[2px\]{padding-block:2px}.py-\[3px\]{padding-block:3px}.py-\[6px\]{padding-block:6px}.pt-2{padding-top:calc(var(--spacing)*2)}.pt-3{padding-top:calc(var(--spacing)*3)}.pt-6{padding-top:calc(var(--spacing)*6)}.pt-8{padding-top:calc(var(--spacing)*8)}.pb-0{padding-bottom:calc(var(--spacing)*0)}.pl-3{padding-left:calc(var(--spacing)*3)}.pl-6{padding-left:calc(var(--spacing)*6)}.pl-\[5px\]\!{padding-left:5px!important}.font-base{font-family:var(--font-base)}.font-fira{font-family:var(--font-fira)}.font-primary{font-family:var(--font-primary)}.text-2xl{font-size:var(--text-2xl);line-height:var(--tw-leading,var(--text-2xl--line-height))}.text-lg{font-size:var(--text-lg);line-height:var(--tw-leading,var(--text-lg--line-height))}.text-xl{font-size:var(--text-xl);line-height:var(--tw-leading,var(--text-xl--line-height))}.text-body1{font-size:var(--text-body1)}.text-body2{font-size:var(--text-body2)}.text-md{font-size:var(--text-md)}.leading-tight{--tw-leading:var(--leading-tight);line-height:var(--leading-tight)}.font-bold{--tw-font-weight:var(--font-weight-bold);font-weight:var(--font-weight-bold)}.font-medium{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.font-normal{--tw-font-weight:var(--font-weight-normal);font-weight:var(--font-weight-normal)}.font-semibold{--tw-font-weight:var(--font-weight-semibold);font-weight:var(--font-weight-semibold)}.text-balance{text-wrap:balance}.whitespace-nowrap{white-space:nowrap}.text-gray-500{color:var(--color-gray-500)}.text-gray-700{color:var(--color-gray-700)}.text-neutral{color:var(--color-neutral)}.text-primary{color:var(--color-primary)}.text-primary\!{color:var(--color-primary)!important}.text-secondary{color:var(--color-secondary)}.text-text{color:var(--color-text)}.text-text\/70{color:#17141fb3}@supports (color:color-mix(in lab,red,red)){.text-text\/70{color:color-mix(in oklab,var(--color-text)70%,transparent)}}.text-text\/80{color:#17141fcc}@supports (color:color-mix(in lab,red,red)){.text-text\/80{color:color-mix(in oklab,var(--color-text)80%,transparent)}}.capitalize{text-transform:capitalize}.underline-offset-6{text-underline-offset:6px}.opacity-50{opacity:.5}.outline{outline-width:1px}.outline,.outline-8{outline-style:var(--tw-outline-style)}.outline-8{outline-width:8px}.outline-offset-0{outline-offset:0}.outline-background{outline-color:var(--color-background)}.blur-2xl{--tw-blur:blur(var(--blur-2xl))}.blur-2xl,.filter{filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.transition{transition-duration:var(--tw-duration,var(--default-transition-duration));transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,visibility,content-visibility,overlay,pointer-events;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function))}.transition-colors{transition-duration:var(--tw-duration,var(--default-transition-duration));transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function))}.outline-none{--tw-outline-style:none;outline-style:none}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.group-focus-within\:underline:is(:where(.group):focus-within *){text-decoration-line:underline}.focus-within\:text-text\/70:focus-within{color:#17141fb3}@supports (color:color-mix(in lab,red,red)){.focus-within\:text-text\/70:focus-within{color:color-mix(in oklab,var(--color-text)70%,transparent)}}@media (hover:hover){.hover\:border-transparent:hover{border-color:#0000}.hover\:bg-details:hover{background-color:var(--color-details)}.hover\:text-text:hover{color:var(--color-text)}.hover\:text-text\/70:hover{color:#17141fb3}@supports (color:color-mix(in lab,red,red)){.hover\:text-text\/70:hover{color:color-mix(in oklab,var(--color-text)70%,transparent)}}}.focus-visible\:rounded-3xl:focus-visible{border-radius:var(--radius-3xl)}.focus-visible\:border-transparent:focus-visible{border-color:#0000}.focus-visible\:bg-details:focus-visible{background-color:var(--color-details)}.focus-visible\:text-text:focus-visible{color:var(--color-text)}.focus-visible\:ring-0:focus-visible{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus-visible\:ring-transparent:focus-visible{--tw-ring-color:transparent}.focus-visible\:ring-offset-0:focus-visible{--tw-ring-offset-width:0px;--tw-ring-offset-shadow:var(--tw-ring-inset,)0 0 0 var(--tw-ring-offset-width)var(--tw-ring-offset-color)}@media (min-width:40rem){.sm\:ml-4{margin-left:calc(var(--spacing)*4)}.sm\:flex{display:flex}.sm\:flex-row{flex-direction:row}.sm\:items-center{align-items:center}}@media (min-width:48rem){.md\:sticky{position:sticky}.md\:order-last{order:9999}.md\:col-span-6{grid-column:span 6/span 6}.md\:col-span-8{grid-column:span 8/span 8}.md\:col-start-2{grid-column-start:2}.md\:col-start-5{grid-column-start:5}.md\:col-start-10{grid-column-start:10}.md\:col-end-4{grid-column-end:4}.md\:col-end-12{grid-column-end:12}.md\:col-end-13{grid-column-end:13}.md\:mt-36{margin-top:calc(var(--spacing)*36)}.md\:mt-40{margin-top:calc(var(--spacing)*40)}.md\:mb-10{margin-bottom:calc(var(--spacing)*10)}.md\:mb-11{margin-bottom:calc(var(--spacing)*11)}.md\:block{display:block}.md\:grid{display:grid}.md\:grid-cols-12{grid-template-columns:repeat(12,minmax(0,1fr))}.md\:border-l-0{border-left-style:var(--tw-border-style);border-left-width:0}.md\:pt-6{padding-top:calc(var(--spacing)*6)}.md\:pl-0{padding-left:calc(var(--spacing)*0)}.md\:text-body2{font-size:var(--text-body2)}}.dark\:border-0:where([data-theme=dark] *){border-style:var(--tw-border-style);border-width:0}.dark\:border-gray-600\/50:where([data-theme=dark] *){border-color:#4a556580}@supports (color:color-mix(in lab,red,red)){.dark\:border-gray-600\/50:where([data-theme=dark] *){border-color:color-mix(in oklab,var(--color-gray-600)50%,transparent)}}.dark\:border-gray-700:where([data-theme=dark] *){border-color:var(--color-gray-700)}.dark\:bg-\[\#201b31\]:where([data-theme=dark] *){background-color:#201b31}.dark\:bg-gray-800:where([data-theme=dark] *){background-color:var(--color-gray-800)}.dark\:text-text\/75:where([data-theme=dark] *){color:#17141fbf}@supports (color:color-mix(in lab,red,red)){.dark\:text-text\/75:where([data-theme=dark] *){color:color-mix(in oklab,var(--color-text)75%,transparent)}}.dark\:text-white:where([data-theme=dark] *){color:var(--color-white)}.dark\:blur-3xl:where([data-theme=dark] *){--tw-blur:blur(var(--blur-3xl));filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.\[\&\*\>li\]\:-ml-px>li{margin-left:-1px}.\[\&\*\>li\>\*\:not\(ol\)\]\:pl-3>li>:not(ol){padding-left:calc(var(--spacing)*3)}.\[\&\.router-link-exact-active\]\:text-primary.router-link-exact-active{color:var(--color-primary)}.\[\&\>a\]\:focus-visible\:rounded-none>a:focus-visible{border-radius:0}.\[\&\>a\]\:focus-visible\:underline>a:focus-visible{text-decoration-line:underline}.\[\&\>a\]\:focus-visible\:ring-0>a:focus-visible{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.\[\&\>a\]\:focus-visible\:outline-8>a:focus-visible{outline-style:var(--tw-outline-style);outline-width:8px}}@property --tw-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-y{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-z{syntax:"*";inherits:false;initial-value:0}@property --tw-rotate-x{syntax:"*";inherits:false}@property --tw-rotate-y{syntax:"*";inherits:false}@property --tw-rotate-z{syntax:"*";inherits:false}@property --tw-skew-x{syntax:"*";inherits:false}@property --tw-skew-y{syntax:"*";inherits:false}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-leading{syntax:"*";inherits:false}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-outline-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-blur{syntax:"*";inherits:false}@property --tw-brightness{syntax:"*";inherits:false}@property --tw-contrast{syntax:"*";inherits:false}@property --tw-grayscale{syntax:"*";inherits:false}@property --tw-hue-rotate{syntax:"*";inherits:false}@property --tw-invert{syntax:"*";inherits:false}@property --tw-opacity{syntax:"*";inherits:false}@property --tw-saturate{syntax:"*";inherits:false}@property --tw-sepia{syntax:"*";inherits:false}@property --tw-drop-shadow{syntax:"*";inherits:false}@property --tw-drop-shadow-color{syntax:"*";inherits:false}@property --tw-drop-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-drop-shadow-size{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}</style>
<style>/*! tailwindcss v4.1.10 | MIT License | https://tailwindcss.com */@layer base{html{box-sizing:border-box;scroll-behavior:smooth;--sb-size:14px;--sb-track-color:transparent;--sb-thumb-color:#a6accd6f;--sb-thumb-padding:4px;overflow-x:hidden;width:100vw}html::-webkit-scrollbar{height:var(--sb-size);width:var(--sb-size)}html::-webkit-scrollbar-track{background:var(--sb-track-color);border-radius:8px;display:none}html::-webkit-scrollbar-thumb{background:var(--sb-thumb-color);background-clip:content-box;background-color:var(--sb-thumb-color);border:var(--sb-thumb-padding)solid transparent;border-radius:10px;-webkit-transition:all .2s;transition:all .2s}*,:after,:before{box-sizing:inherit}.img-wrapper{margin-bottom:.5em;margin-top:.5em}details{margin-bottom:1em}ul{display:flex;flex-direction:column;gap:4px;margin-bottom:.5em;padding-left:1em}ul li{list-style:outside}p{margin-bottom:.5em;margin-top:.5em}h2,h3,h4{font-weight:700;scroll-margin-top:.25em}h2{font-size:var(--text-lg);margin-top:1em}h2:first-child{margin-top:0}h3{font-size:var(--text-md);margin-bottom:.5em;margin-top:1em}a{color:#dc8b5ee6}@supports (color:color-mix(in lab,red,red)){a{color:color-mix(in oklab,var(--color-primary,#dc8b5e)90%,transparent)}}a:hover{color:var(--color-primary,#dc8b5e)}a:has(>code){border-block-end:2px solid}a>code{border-bottom-left-radius:0;border-bottom-right-radius:0}body{background-color:var(--color-background,#fff6ed);color:var(--color-text,#17141f);font-family:var(--font-base,"Nunito",system-ui,sans-serif);font-size:var(--text-body1,clamp(1rem,.9135rem + .3846vi,1.25rem));line-height:1.55}}@layer utilities{.text-balance{text-wrap:balance}}</style>
<style>/*! tailwindcss v4.1.10 | MIT License | https://tailwindcss.com */.blogContent{font-family:var(--font-base);scroll-behavior:smooth}.blogContent .img-wrapper{margin-bottom:.5em;margin-top:.5em}.blogContent ol{counter-reset:cupcake;padding-left:.5em}.blogContent ol li{counter-increment:cupcake}.blogContent ol li:before{color:var(--color-primary,#dc8b5e);content:counters(cupcake,".")" ";font-family:cursive;font-weight:700}.blogContent .codeSnippet{margin-block:calc(var(--spacing,.25rem)*2)}.blogContent .codeSnippet+.codeSnippet{margin-top:calc(var(--spacing,.25rem)*4)}</style>
<style>/*! tailwindcss v4.1.10 | MIT License | https://tailwindcss.com */@layer properties{@supports ((-webkit-hyphens:none) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){[data-v-4d236a82],[data-v-4d236a82]::backdrop,[data-v-4d236a82]:after,[data-v-4d236a82]:before{--tw-border-style:solid}}}.code[data-v-4d236a82]{border-color:var(--color-border,#d2d2d2);border-radius:.25rem;border-style:var(--tw-border-style);border-width:1px;font-family:var(--font-fira);font-size:.9em;font-weight:400;padding-block:.05em;padding-inline:.4em;transition:border .3s;white-space:nowrap}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}</style>
<style>/*! tailwindcss v4.1.10 | MIT License | https://tailwindcss.com */.codeHighlight{--color-code-bg:#120e1f}.codeSnippet{--sb-size:14px;--sb-track-color:transparent;--sb-thumb-color:#a6accd6f;border-radius:10px;font-weight:400;position:relative}.codeSnippet:hover{--sb-thumb-color:#bfc6eb6f}.codeSnippet .caption:empty{display:none}.codeSnippet .codeSnippetCode{border-top-left-radius:0;border-top-right-radius:0}.codeSnippet .codeSnippetCode::-webkit-scrollbar{height:var(--sb-size);width:var(--sb-size)}.codeSnippet .codeSnippetCode::-webkit-scrollbar-track{background:var(--sb-track-color);border-radius:8px;display:none}.codeSnippet .codeSnippetCode::-webkit-scrollbar-thumb{background:var(--sb-thumb-color);background-clip:content-box;background-color:var(--sb-thumb-color);border:4px solid #0000;border-radius:10px;-webkit-transition:all .2s;transition:all .2s}[data-theme=dark] .codeSnippet .highlightedLine{--code-line-bg:#24c5ff33}</style>
<style>/*! tailwindcss v4.1.10 | MIT License | https://tailwindcss.com */html[data-theme=dark] .shiki,html[data-theme=dark] .shiki span{color:var(--shiki-dark)!important;font-style:var(--shiki-dark-font-style)!important;font-weight:var(--shiki-dark-font-weight)!important;-webkit-text-decoration:var(--shiki-dark-text-decoration)!important;text-decoration:var(--shiki-dark-text-decoration)!important}html[data-theme=dark] .shiki .line{background-color:var(--shiki-dark-bg)!important}html[data-theme=dark] .shiki .line.highlighted{background-color:#24c5ff33!important}html[data-theme=light] .shiki,html[data-theme=light] .shiki span{background-color:var(--shiki-light-bg)!important;color:var(--shiki-light)!important;font-style:var(--shiki-light-font-style)!important;font-weight:var(--shiki-light-font-weight)!important;-webkit-text-decoration:var(--shiki-light-text-decoration)!important;text-decoration:var(--shiki-light-text-decoration)!important}html[data-theme=light] .shiki .line{background-color:var(--shiki-light-bg)!important}html[data-theme=light] .shiki .line.highlighted{background-color:#ddd3!important}.pre-body{overflow-x:auto}.pre-body .shiki{padding-block:calc(var(--spacing,.25rem)*3)}.pre-body code{background-color:var(--shiki-light-bg);display:block;font-family:var(--font-fira,"Fira Code",monospace);min-width:-moz-max-content;min-width:max-content;width:100%}.pre-body code:where([data-theme=dark] *){background-color:var(--shiki-dark-bg)}.pre-body .line{display:inline-block;padding-inline:calc(var(--spacing,.25rem)*4);transition:filter .35s,opacity .35s;width:100%}.pre-body .line:last-of-type:empty{display:none}.pre-body .line.highlighted{box-shadow:inset 2px 0 #149eca}.pre-body:has(.has-focused):not(:hover):not(:focus-visible) .line:not(.focused){filter:blur(.095rem);opacity:.4}</style>
<link rel="preload" as="fetch" crossorigin="anonymous" href="/blog/implementing-own-redux-toolkit/_payload.json?74bfdd1b-0f90-4a56-aec7-80d5a84b45a5">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Dic0N_Gf.js">
<link rel="preload" as="font" crossorigin href="/fonts/IgraSans.woff2">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DJbfHZwp.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/jehr1J6B.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CNbWpHhK.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/vEwUIGRG.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/1oRSdk1f.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/D7vSz1kn.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DEQwvMiY.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/B92l2sol.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/C6wMo448.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BAHtHdIS.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DoSTNCDq.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BBeUh8pn.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DlAUqK2U.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CWyftX54.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/5V-4VX2E.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/eJPEnck0.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BcE5eEMf.js">
<link rel="preload" as="fetch" fetchpriority="low" crossorigin="anonymous" href="/_nuxt/builds/meta/74bfdd1b-0f90-4a56-aec7-80d5a84b45a5.json">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/8VSi5hC9.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/C9MrEi2Z.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/CiDaUKyD.js">
<link rel="apple-touch-icon" href="/apple-icon.png">
<meta property="article:tag" content="react">
<meta property="article:tag" content="redux">
<meta property="article:tag" content="typescript">
<meta property="article:tag" content="state-manager">
<meta name="description" content="Как работает @reduxjs/toolkit, реализация его упрощенной версии">
<meta property="og:type" content="article">
<meta property="og:description" content="Как работает @reduxjs/toolkit, реализация его упрощенной версии">
<meta name="creator" content="Трофимов Евгений">
<meta property="article:published_time" content="2024-02-12">
<meta name="twitter:image" content="/images/own-redux-preview.webp">
<meta name="author" content="Трофимов Евгений">
<meta property="og:image" content="/images/own-redux-preview.webp">
<meta name="twitter:card" content="summary_large_image">
<script type="module" src="/_nuxt/Dic0N_Gf.js" crossorigin></script><script>
!function() {
  const preferredDarkModeBySystem = window.matchMedia("(prefers-color-scheme: dark)").matches;
  const savedTheme = localStorage.getItem("selectedTheme");
  const theme = savedTheme ? savedTheme : preferredDarkModeBySystem ? 'dark' : 'light';
  document.documentElement.setAttribute('data-theme', theme);
  window.selectedTheme = theme;
}();
</script></head><body  class="flex flex-col gap-4 min-h-screen"><body id="app" lang="ru"><!--[--><div class="nuxt-loading-indicator" style="position:fixed;top:0;right:0;left:0;pointer-events:none;width:auto;height:3px;opacity:0;background:repeating-linear-gradient(to right,#00dc82 0%,#34cdfe 50%,#0047e1 100%);background-size:Infinity% auto;transform:scaleX(0%);transform-origin:left;transition:transform 0.1s, height 0.4s, opacity 0.4s;z-index:999999;"></div><!--[--><header class="w-full max-w-[calc(1180px+2rem)] mx-auto px-4 flex items-center h-20"><a href="/" class="font-fira text-md">&lt;Zhenya&gt;</a><nav class="mx-auto gap-8 hidden sm:flex text-body2 font-semibold [&amp;&gt;a]:focus-visible:underline underline-offset-6 [&amp;&gt;a]:focus-visible:outline-8 [&amp;&gt;a]:focus-visible:ring-0 [&amp;&gt;a]:focus-visible:rounded-none"><a href="/#technologies" class="text-secondary"> С чем работал </a><a href="/#my-experience" class="text-secondary"> Опыт работы </a><a href="/blog" class="text-secondary [&amp;.router-link-exact-active]:text-primary"> Блог </a><a href="/snippets" class="text-secondary [&amp;.router-link-exact-active]:text-primary"> Сниппеты </a></nav><button class="w-[32px] h-[32px] overflow-hidden cursor-pointer ml-auto sm:ml-4" aria-label="Toggle theme"><!--[--><div class="absolute bg-black rounded-full"></div><div class="absolute bg-black rounded-full"></div><div class="absolute bg-black rounded-full"></div><div class="absolute bg-black rounded-full"></div><div class="absolute bg-black rounded-full"></div><div class="absolute bg-black rounded-full"></div><div class="absolute bg-black rounded-full"></div><div class="absolute bg-black rounded-full"></div><!--]--><div class="bg-black dark:bg-red rounded-full absolute" style="width:12.5px;height:12.5px;transform:translateX(9.75px) translateY(-6.25px);"></div><!--[--><div class="absolute bg-white rounded-full bg-background" style="width:12.5px;height:12.5px;background:var(--color-background);transform:translateX(50px) translateY(-5px);"></div><!--]--></button></header><main class="w-full max-w-[calc(1180px+2rem)] mx-auto p-4"><!--[--><div class="flex flex-col"><a href="/blog" class="mb-8 block self-start"> ← Блог </a><div><section class="patternBg overflow-hidden"><header class="py-8 border-t-[6px] border-b-2 border-details md:mb-10"><h1 class="text-2xl font-primary block mb-4">Пишем свой redux-toolkit</h1><h2 class="font-primary text-md font-normal block mb-8 text-secondary">Как работает @reduxjs/toolkit, реализация его упрощенной версии</h2><div class="flex gap-2 flex-wrap gap-y-1"><!--[--><a href="/blog/topics/react" class="rounded-3xl text-secondary inline-flex items-center text-body2 transition-colors focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:rounded-3xl px-3 py-[3px] border-2 border-details bg-transparent hover:border-transparent hover:bg-details hover:text-text focus-visible:bg-details focus-visible:border-transparent focus-visible:text-text"><!----><!--[-->React<!--]--></a><a href="/blog/topics/redux" class="rounded-3xl text-secondary inline-flex items-center text-body2 transition-colors focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:rounded-3xl px-3 py-[3px] border-2 border-details bg-transparent hover:border-transparent hover:bg-details hover:text-text focus-visible:bg-details focus-visible:border-transparent focus-visible:text-text"><!----><!--[-->Redux<!--]--></a><a href="/blog/topics/typescript" class="rounded-3xl text-secondary inline-flex items-center text-body2 transition-colors focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:rounded-3xl px-3 py-[3px] border-2 border-details bg-transparent hover:border-transparent hover:bg-details hover:text-text focus-visible:bg-details focus-visible:border-transparent focus-visible:text-text"><!----><!--[-->Typescript<!--]--></a><a href="/blog/topics/state-manager" class="rounded-3xl text-secondary inline-flex items-center text-body2 transition-colors focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:rounded-3xl px-3 py-[3px] border-2 border-details bg-transparent hover:border-transparent hover:bg-details hover:text-text focus-visible:bg-details focus-visible:border-transparent focus-visible:text-text"><!----><!--[-->State-manager<!--]--></a><!--]--></div><time class="text-body2 text-secondary block mt-4">12 February 2024</time></header></section><div class="flex flex-col md:grid md:grid-cols-12 gap-5"><aside class="md:col-start-10 md:col-end-13 md:sticky top-4 self-start shrink-0 md:order-last"><div class="mt-4 mb-4 md:col-start-10 md:col-end-13 md:sticky top-4 self-start shrink-0 md:order-last"><span class="block mb-3 font-semibold text-lg md:text-body2">СОДЕРЖАНИЕ</span><ol class="headingList flex flex-col gap-3 relative [&amp;*&gt;li]:-ml-px [&amp;*&gt;li&gt;*:not(ol)]:pl-3 border-l-2 border-gray-200/30 dark:border-gray-600/50"><div class="absolute w-[2px] left-0 bg-primary rounded-[2px] -translate-x-[2px]"></div><!--[--><li data-id="motivation" class="flex flex-col gap-3 relative"><a href="#motivation" class="text-body2 border-l-2 border-transparent text-text">Мотивация</a><!----></li><li data-id="api" class="flex flex-col gap-3 relative"><a href="#api" class="text-body2 border-l-2 border-transparent text-text">API</a><!----></li><li data-id="implementation" class="flex flex-col gap-3 relative"><a href="#implementation" class="text-body2 border-l-2 border-transparent text-text">Реализация</a><!----></li><li data-id="actions" class="flex flex-col gap-3 relative"><a href="#actions" class="text-body2 border-l-2 border-transparent text-text">Экшены</a><!----></li><li data-id="reducer" class="flex flex-col gap-3 relative"><a href="#reducer" class="text-body2 border-l-2 border-transparent text-text">Редьюсер</a><!----></li><li data-id="selectors" class="flex flex-col gap-3 relative"><a href="#selectors" class="text-body2 border-l-2 border-transparent text-text">Селекторы</a><!----></li><li data-id="global-store" class="flex flex-col gap-3 relative"><a href="#global-store" class="text-body2 border-l-2 border-transparent text-text">Глобальный стор</a><!----></li><li data-id="bring-all-together" class="flex flex-col gap-3 relative"><a href="#bring-all-together" class="text-body2 border-l-2 border-transparent text-text">Собираем все вместе</a><!----></li><!--]--></ol></div></aside><div id="content" class="blogContent md:col-span-8"><!--[--><div><h2 id="motivation"><a href="#motivation"><!--[-->Мотивация<!--]--></a></h2><p><!--[-->Как правило мы задумываемся о глобальном стейте, когда приложение обрастает какой-то сложной бизнес логикой и прокидывать пропсы становится больно.
В случае с более менее легкой бизнес логикой можно обойтись <code class="code" data-v-4d236a82><!--[-->React Context<!--]--></code>. Но когда уже не хватает и его - на помощь приходит стейт менеджер,
например редакс. Обычно в качестве примера использования редакса показывают TODO лист, что на мой взгляд тупо - мне трудно представить
себе туду лист, который был бы достаточно сложен, что для него бы мог потребоваться глобальный стейт.
Скорее вы будете хранить в стейте профиль авторизованного юзера или какие-то сложные структуры,
которые нужно уметь находить разными способами, скажем <code class="code" data-v-4d236a82><!--[-->profileById<!--]--></code>, <code class="code" data-v-4d236a82><!--[-->profileByUsername<!--]--></code> или <code class="code" data-v-4d236a82><!--[-->noteIdsByWeekTs<!--]--></code>, <code class="code" data-v-4d236a82><!--[-->noteIdsByDayTs<!--]--></code>.<!--]--></p><p><!--[-->Глобальный стейт решает 3 основный задачи - хранить, записывать и доставать данные. Чем удобнее, тем лучше.
Redux предлагает редьюсеры, экшены и селекторы для этих задач.
Если говорить про <a href="https://redux.js.org/tutorials/fundamentals/part-3-state-actions-reducers" rel="nofollow" target="_blank"><!--[-->стандартную реализацию<!--]--></a>,
то про про удобство говорить не приходится, switch case конструкция для экшенов - это боль.
Разработчики редакса тоже так подумали и изобрели красивую обертку под названием <strong><!--[-->Redux Toolkit.<!--]--></strong>
Однако они умудрились превратить <strong><!--[-->3.33 kB<!--]--></strong> в <strong><!--[-->37 kB<!--]--></strong> и это наталкивает на мысль, что они напихали слишком много лишнего.
Возможно, им следовало бы остановиться на методе <code class="code" data-v-4d236a82><!--[-->createSlice<!--]--></code>,
который позволяет создавать редьюсер и экшены без лишней головной боли, а так же хуке useSlectors.
Именно эти вещи я и хочу реализовать самостоятельно. Это будет интересно еще и точки зрения типизации.<!--]--></p><h2 id="api"><a href="#api"><!--[-->API<!--]--></a></h2><p><!--[-->Для начала нужно прикинуть, что именно мы хотим получить на выходе.
В рамках данной статьи я хочу реализовать метод createSlice, где можно было бы создать экшены и селекторы,
а так же useSelector для доступа к данным из реакт компонента и dispatch для вызова экшенов<!--]--></p><div class="codeSnippet text-body2 border border-gray-100 dark:border-gray-700 rounded-sm overflow-hidden language-ts shiki shiki-themes github-light github-dark" data-lang="ts"><div class="caption flex items-center gap-1 text-gray-700 dark:text-white rounded-t overflow-hidden px-4 py-2 bg-gray-100 dark:bg-[#201b31]"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="i1102642230__icon w-5" viewBox="0 0 32 32"><path fill="#007acc" d="M23.827 8.243a4.424 4.424 0 0 1 2.223 1.281 5.853 5.853 0 0 1 .852 1.143c.011.045-1.534 1.083-2.471 1.662-.034.023-.169-.124-.322-.35a2.014 2.014 0 0 0-1.67-1c-1.077-.074-1.771.49-1.766 1.433a1.3 1.3 0 0 0 .153.666c.237.49.677.784 2.059 1.383 2.544 1.095 3.636 1.817 4.31 2.843a5.158 5.158 0 0 1 .416 4.333 4.764 4.764 0 0 1-3.932 2.815 10.9 10.9 0 0 1-2.708-.028 6.531 6.531 0 0 1-3.616-1.884 6.278 6.278 0 0 1-.926-1.371 2.655 2.655 0 0 1 .327-.208c.158-.09.756-.434 1.32-.761l1.024-.6.214.312a4.771 4.771 0 0 0 1.35 1.292 3.3 3.3 0 0 0 3.458-.175 1.545 1.545 0 0 0 .2-1.974c-.276-.395-.84-.727-2.443-1.422a8.8 8.8 0 0 1-3.349-2.055 4.687 4.687 0 0 1-.976-1.777 7.116 7.116 0 0 1-.062-2.268 4.332 4.332 0 0 1 3.644-3.374 9 9 0 0 1 2.691.084m-8.343 1.483.011 1.454h-4.63v13.148H7.6V11.183H2.97V9.755a13.986 13.986 0 0 1 .04-1.466c.017-.023 2.832-.034 6.245-.028l6.211.017Z"></path></svg> usersSlice.ts <button class="ml-auto cursor-pointer"><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" aria-hidden="true" class="i1857144300__with-icon_icon__MHUeb" data-testid="geist-icon" shape-rendering="geometricPrecision" style="color:currentcolor;width:20px;height:20px;" viewBox="0 0 24 24"><path d="M6 17a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7a2 2 0 0 1 1.732 1M11 21h7a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-7a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2Z"></path></svg></button></div><div class="pre-body flex flex-col rounded-sm overflow-hidden" tabindex="0"><pre class="shiki shiki-themes one-light aurora-x" style="--shiki-light:#383A42;--shiki-dark:#bbbbbb;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#07090F" tabindex="0"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">type</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> User</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">  id</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">  username</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">  displayName</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">export</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> const</span><span style="--shiki-light:#986801;--shiki-dark:#EEFFFF"> usersSlice</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> createSlice</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">{</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">  name</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF"> '</span><span style="--shiki-light:#50A14F;--shiki-dark:#C3E88D">users</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">  defaultState</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">    userById</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {}</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> as</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Record</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6">string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> User</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">    usernameById</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {}</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> as</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Record</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6">string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  },</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">  actions</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">    addUser</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C"> user</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> User</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">      // state должен иметь тот же тип, что и defaultState</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">      state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">userById</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">user</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#C18401;--shiki-dark:#F07178">id</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> user</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">      state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">usernameById</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">user</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#C18401;--shiki-dark:#F07178">username</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> user</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">id</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">    },</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">    deleteUser</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C"> userId</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">      const</span><span style="--shiki-light:#986801;--shiki-dark:#F07178"> user</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">userById</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">userId</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">      delete</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">usernameById</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">user</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#C18401;--shiki-dark:#F07178">username</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">      delete</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">userById</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">userId</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  },</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">  selectors</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">    selectUserByUsername</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C"> username</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF"> state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#EEFFFF">userById</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#C18401;--shiki-dark:#EEFFFF">usernameById</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">username</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">}</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">)</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">usersSlice</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#EEFFFF">actions</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">// экшены</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">usersSlice</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#EEFFFF">selectors</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">// селекторы</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">// ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">// SomeComponent.tsx</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">// user Должен иметь тип User</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">const</span><span style="--shiki-light:#986801;--shiki-dark:#EEFFFF"> user</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> useSelector</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">state</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF"> state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">selectUserByUsername</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#EEFFFF">users</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF"> '</span><span style="--shiki-light:#50A14F;--shiki-dark:#C3E88D">someUsername</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">))</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">const</span><span style="--shiki-light:#986801;--shiki-dark:#EEFFFF"> addUser</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> useCallback</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">()</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">  dispatch</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">    // Аргументом addUser должен быть объект User</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">    usersSlice</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">actions</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">addUser</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">{</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">      id</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF"> '</span><span style="--shiki-light:#50A14F;--shiki-dark:#C3E88D">2</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">      username</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF"> '</span><span style="--shiki-light:#50A14F;--shiki-dark:#C3E88D">username2</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">      displayName</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF"> '</span><span style="--shiki-light:#50A14F;--shiki-dark:#C3E88D">some display name</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">    }</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">  )</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">},</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB"> [</span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">dispatch</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">])</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span></code></pre></div></div><h2 id="implementation"><a href="#implementation"><!--[-->Реализация<!--]--></a></h2><p><!--[-->Для начала определимся с параметрами <code class="code" data-v-4d236a82><!--[-->createSlice<!--]--></code> и набросаем небольшой черновик:<!--]--></p><div class="codeSnippet text-body2 border border-gray-100 dark:border-gray-700 rounded-sm overflow-hidden language-ts shiki shiki-themes github-light github-dark" data-lang="ts"><div class="caption flex items-center gap-1 text-gray-700 dark:text-white rounded-t overflow-hidden px-4 py-2 bg-gray-100 dark:bg-[#201b31]"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="i1102642230__icon w-5" viewBox="0 0 32 32"><path fill="#007acc" d="M23.827 8.243a4.424 4.424 0 0 1 2.223 1.281 5.853 5.853 0 0 1 .852 1.143c.011.045-1.534 1.083-2.471 1.662-.034.023-.169-.124-.322-.35a2.014 2.014 0 0 0-1.67-1c-1.077-.074-1.771.49-1.766 1.433a1.3 1.3 0 0 0 .153.666c.237.49.677.784 2.059 1.383 2.544 1.095 3.636 1.817 4.31 2.843a5.158 5.158 0 0 1 .416 4.333 4.764 4.764 0 0 1-3.932 2.815 10.9 10.9 0 0 1-2.708-.028 6.531 6.531 0 0 1-3.616-1.884 6.278 6.278 0 0 1-.926-1.371 2.655 2.655 0 0 1 .327-.208c.158-.09.756-.434 1.32-.761l1.024-.6.214.312a4.771 4.771 0 0 0 1.35 1.292 3.3 3.3 0 0 0 3.458-.175 1.545 1.545 0 0 0 .2-1.974c-.276-.395-.84-.727-2.443-1.422a8.8 8.8 0 0 1-3.349-2.055 4.687 4.687 0 0 1-.976-1.777 7.116 7.116 0 0 1-.062-2.268 4.332 4.332 0 0 1 3.644-3.374 9 9 0 0 1 2.691.084m-8.343 1.483.011 1.454h-4.63v13.148H7.6V11.183H2.97V9.755a13.986 13.986 0 0 1 .04-1.466c.017-.023 2.832-.034 6.245-.028l6.211.017Z"></path></svg>  <button class="ml-auto cursor-pointer"><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" aria-hidden="true" class="i1857144300__with-icon_icon__MHUeb" data-testid="geist-icon" shape-rendering="geometricPrecision" style="color:currentcolor;width:20px;height:20px;" viewBox="0 0 24 24"><path d="M6 17a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7a2 2 0 0 1 1.732 1M11 21h7a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-7a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2Z"></path></svg></button></div><div class="pre-body flex flex-col rounded-sm overflow-hidden" tabindex="0"><pre class="shiki shiki-themes one-light aurora-x" style="--shiki-light:#383A42;--shiki-dark:#bbbbbb;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#07090F" tabindex="0"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">type</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> SliceActionCreator</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">State</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Payload</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> any</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">  state</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> State</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">  payload</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Payload</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">=></span><span style="--shiki-light:#0184BC;--shiki-dark:#B2CCD6"> void</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">type</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> SliceSelector</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">State</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Payload</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> unknown</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> SelectorReturn</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> unknown</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">  state</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> State</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">  payload</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Payload</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">=></span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> SelectorReturn</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">type</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> CreateSliceProps</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  Name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  State</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Record</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6">string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> unknown</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>,</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  Actions</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Record</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6">string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> SliceActionCreator</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">State</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>>,</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  Selectors</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Record</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6">string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> SliceSelector</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">State</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>></span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">  name</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Name</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">  actions</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Actions</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">  defaultState</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> State</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">  selectors</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Selectors</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">export</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> const</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> createSlice</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> &#x3C;</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  Name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  State</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Record</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6">string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> unknown</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>,</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  Actions</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Record</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6">string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> SliceActionCreator</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">State</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>>,</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  Selectors</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Record</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6">string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> SliceSelector</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">State</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>></span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">{</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">    name</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">    actions</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">    defaultState</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">    selectors</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  }</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> CreateSliceProps</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">Name</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> State</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Actions</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Selectors</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">=></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">  let</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> sliceActions</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#546E7A;--shiki-dark-font-style:italic"> // TODO</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">  let</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> reducer</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#546E7A;--shiki-dark-font-style:italic"> // TODO</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">  let</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> sliceSelectors</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#546E7A;--shiki-dark-font-style:italic"> // TODO</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">    reducer</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">    selectors</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> sliceSelectors</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">    actions</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> sliceActions</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  };</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">};</span></span></code></pre></div></div><p><!--[-->План такой - сначала реализовать экшены, потом редьюсер и в самом конце - селекторы.<!--]--></p><h2 id="actions"><a href="#actions"><!--[-->Экшены<!--]--></a></h2><p><!--[-->Экшен представляет из себя объект с обязательным полем <code class="code" data-v-4d236a82><!--[-->type<!--]--></code> и опциональным <code class="code" data-v-4d236a82><!--[-->payload<!--]--></code><!--]--></p><div class="codeSnippet text-body2 border border-gray-100 dark:border-gray-700 rounded-sm overflow-hidden language-ts shiki shiki-themes github-light github-dark" data-lang="ts"><div class="caption flex items-center gap-1 text-gray-700 dark:text-white rounded-t overflow-hidden px-4 py-2 bg-gray-100 dark:bg-[#201b31]"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="i1102642230__icon w-5" viewBox="0 0 32 32"><path fill="#007acc" d="M23.827 8.243a4.424 4.424 0 0 1 2.223 1.281 5.853 5.853 0 0 1 .852 1.143c.011.045-1.534 1.083-2.471 1.662-.034.023-.169-.124-.322-.35a2.014 2.014 0 0 0-1.67-1c-1.077-.074-1.771.49-1.766 1.433a1.3 1.3 0 0 0 .153.666c.237.49.677.784 2.059 1.383 2.544 1.095 3.636 1.817 4.31 2.843a5.158 5.158 0 0 1 .416 4.333 4.764 4.764 0 0 1-3.932 2.815 10.9 10.9 0 0 1-2.708-.028 6.531 6.531 0 0 1-3.616-1.884 6.278 6.278 0 0 1-.926-1.371 2.655 2.655 0 0 1 .327-.208c.158-.09.756-.434 1.32-.761l1.024-.6.214.312a4.771 4.771 0 0 0 1.35 1.292 3.3 3.3 0 0 0 3.458-.175 1.545 1.545 0 0 0 .2-1.974c-.276-.395-.84-.727-2.443-1.422a8.8 8.8 0 0 1-3.349-2.055 4.687 4.687 0 0 1-.976-1.777 7.116 7.116 0 0 1-.062-2.268 4.332 4.332 0 0 1 3.644-3.374 9 9 0 0 1 2.691.084m-8.343 1.483.011 1.454h-4.63v13.148H7.6V11.183H2.97V9.755a13.986 13.986 0 0 1 .04-1.466c.017-.023 2.832-.034 6.245-.028l6.211.017Z"></path></svg>  <button class="ml-auto cursor-pointer"><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" aria-hidden="true" class="i1857144300__with-icon_icon__MHUeb" data-testid="geist-icon" shape-rendering="geometricPrecision" style="color:currentcolor;width:20px;height:20px;" viewBox="0 0 24 24"><path d="M6 17a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7a2 2 0 0 1 1.732 1M11 21h7a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-7a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2Z"></path></svg></button></div><div class="pre-body flex flex-col rounded-sm overflow-hidden" tabindex="0"><pre class="shiki shiki-themes one-light aurora-x" style="--shiki-light:#383A42;--shiki-dark:#bbbbbb;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#07090F" tabindex="0"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">type</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Action</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">Type</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Payload</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> unknown</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">  type</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Type</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">  payload</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">?:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Payload</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">};</span></span></code></pre></div></div><p><!--[-->Пусть, если в метод createSlice прокинуты<!--]--></p><div class="codeSnippet text-body2 border border-gray-100 dark:border-gray-700 rounded-sm overflow-hidden language-ts shiki shiki-themes github-light github-dark" data-lang="ts"><div class="caption flex items-center gap-1 text-gray-700 dark:text-white rounded-t overflow-hidden px-4 py-2 bg-gray-100 dark:bg-[#201b31]"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="i1102642230__icon w-5" viewBox="0 0 32 32"><path fill="#007acc" d="M23.827 8.243a4.424 4.424 0 0 1 2.223 1.281 5.853 5.853 0 0 1 .852 1.143c.011.045-1.534 1.083-2.471 1.662-.034.023-.169-.124-.322-.35a2.014 2.014 0 0 0-1.67-1c-1.077-.074-1.771.49-1.766 1.433a1.3 1.3 0 0 0 .153.666c.237.49.677.784 2.059 1.383 2.544 1.095 3.636 1.817 4.31 2.843a5.158 5.158 0 0 1 .416 4.333 4.764 4.764 0 0 1-3.932 2.815 10.9 10.9 0 0 1-2.708-.028 6.531 6.531 0 0 1-3.616-1.884 6.278 6.278 0 0 1-.926-1.371 2.655 2.655 0 0 1 .327-.208c.158-.09.756-.434 1.32-.761l1.024-.6.214.312a4.771 4.771 0 0 0 1.35 1.292 3.3 3.3 0 0 0 3.458-.175 1.545 1.545 0 0 0 .2-1.974c-.276-.395-.84-.727-2.443-1.422a8.8 8.8 0 0 1-3.349-2.055 4.687 4.687 0 0 1-.976-1.777 7.116 7.116 0 0 1-.062-2.268 4.332 4.332 0 0 1 3.644-3.374 9 9 0 0 1 2.691.084m-8.343 1.483.011 1.454h-4.63v13.148H7.6V11.183H2.97V9.755a13.986 13.986 0 0 1 .04-1.466c.017-.023 2.832-.034 6.245-.028l6.211.017Z"></path></svg>  <button class="ml-auto cursor-pointer"><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" aria-hidden="true" class="i1857144300__with-icon_icon__MHUeb" data-testid="geist-icon" shape-rendering="geometricPrecision" style="color:currentcolor;width:20px;height:20px;" viewBox="0 0 24 24"><path d="M6 17a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7a2 2 0 0 1 1.732 1M11 21h7a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-7a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2Z"></path></svg></button></div><div class="pre-body flex flex-col rounded-sm overflow-hidden" tabindex="0"><pre class="shiki shiki-themes one-light aurora-x" style="--shiki-light:#383A42;--shiki-dark:#bbbbbb;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#07090F" tabindex="0"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">const</span><span style="--shiki-light:#986801;--shiki-dark:#EEFFFF"> props</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">  name</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF"> '</span><span style="--shiki-light:#50A14F;--shiki-dark:#C3E88D">users</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">  actions</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">    addUser</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C"> user</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> User</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">      state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">userById</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">user</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#C18401;--shiki-dark:#F07178">id</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> user</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">      state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">usernameById</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">user</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#C18401;--shiki-dark:#F07178">username</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> user</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">id</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">    },</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">    deleteUser</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C"> userId</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">      const</span><span style="--shiki-light:#986801;--shiki-dark:#F07178"> user</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">userById</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">userId</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">      delete</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">usernameById</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">user</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#C18401;--shiki-dark:#F07178">username</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">      delete</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">userById</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">userId</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">};</span></span></code></pre></div></div><p><!--[-->то мы будем генерировать два actionType:<!--]--></p><p><!--[-->users/addUser
users/deleteUser<!--]--></p><p><!--[-->и два экшена -<!--]--></p><div class="codeSnippet text-body2 border border-gray-100 dark:border-gray-700 rounded-sm overflow-hidden language-ts shiki shiki-themes github-light github-dark" data-lang="ts"><div class="caption flex items-center gap-1 text-gray-700 dark:text-white rounded-t overflow-hidden px-4 py-2 bg-gray-100 dark:bg-[#201b31]"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="i1102642230__icon w-5" viewBox="0 0 32 32"><path fill="#007acc" d="M23.827 8.243a4.424 4.424 0 0 1 2.223 1.281 5.853 5.853 0 0 1 .852 1.143c.011.045-1.534 1.083-2.471 1.662-.034.023-.169-.124-.322-.35a2.014 2.014 0 0 0-1.67-1c-1.077-.074-1.771.49-1.766 1.433a1.3 1.3 0 0 0 .153.666c.237.49.677.784 2.059 1.383 2.544 1.095 3.636 1.817 4.31 2.843a5.158 5.158 0 0 1 .416 4.333 4.764 4.764 0 0 1-3.932 2.815 10.9 10.9 0 0 1-2.708-.028 6.531 6.531 0 0 1-3.616-1.884 6.278 6.278 0 0 1-.926-1.371 2.655 2.655 0 0 1 .327-.208c.158-.09.756-.434 1.32-.761l1.024-.6.214.312a4.771 4.771 0 0 0 1.35 1.292 3.3 3.3 0 0 0 3.458-.175 1.545 1.545 0 0 0 .2-1.974c-.276-.395-.84-.727-2.443-1.422a8.8 8.8 0 0 1-3.349-2.055 4.687 4.687 0 0 1-.976-1.777 7.116 7.116 0 0 1-.062-2.268 4.332 4.332 0 0 1 3.644-3.374 9 9 0 0 1 2.691.084m-8.343 1.483.011 1.454h-4.63v13.148H7.6V11.183H2.97V9.755a13.986 13.986 0 0 1 .04-1.466c.017-.023 2.832-.034 6.245-.028l6.211.017Z"></path></svg>  <button class="ml-auto cursor-pointer"><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" aria-hidden="true" class="i1857144300__with-icon_icon__MHUeb" data-testid="geist-icon" shape-rendering="geometricPrecision" style="color:currentcolor;width:20px;height:20px;" viewBox="0 0 24 24"><path d="M6 17a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7a2 2 0 0 1 1.732 1M11 21h7a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-7a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2Z"></path></svg></button></div><div class="pre-body flex flex-col rounded-sm overflow-hidden" tabindex="0"><pre class="shiki shiki-themes one-light aurora-x" style="--shiki-light:#383A42;--shiki-dark:#bbbbbb;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#07090F" tabindex="0"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">const</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> addUser</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">user</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> User</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">{</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">  type</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF"> "</span><span style="--shiki-light:#50A14F;--shiki-dark:#C3E88D">users/addUser</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">"</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">  payload</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF"> user</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">}</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">)</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">const</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> deleteUser</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">userId</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">{</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">  type</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF"> "</span><span style="--shiki-light:#50A14F;--shiki-dark:#C3E88D">users/deleteUser</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">"</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">  payload</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF"> user</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">}</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">)</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span></code></pre></div></div><p><!--[-->Префикс с названием слайса добавлен для удобства и для того, чтобы предотвратить конфликт экшенов с одинаковыми названиями.<!--]--></p><p><!--[-->Нам понадобится два новых типа - <code class="code" data-v-4d236a82><!--[-->ActionKey<!--]--></code> и <code class="code" data-v-4d236a82><!--[-->ActionType<!--]--></code><!--]--></p><p><!--[-->это ключи переданного объекта actions, а <code class="code" data-v-4d236a82><!--[-->ActionType<!--]--></code> - это экшены, которые генерирует слайс, те же ключи, но с префиксом,<!--]--></p><p><!--[-->Для создания типа <code class="code" data-v-4d236a82><!--[-->ActionType<!--]--></code> используется небольшой генерик хелпер <code class="code" data-v-4d236a82><!--[-->Scoped<!--]--></code><!--]--></p><div class="codeSnippet text-body2 border border-gray-100 dark:border-gray-700 rounded-sm overflow-hidden language-ts shiki shiki-themes github-light github-dark" data-lang="ts"><div class="caption flex items-center gap-1 text-gray-700 dark:text-white rounded-t overflow-hidden px-4 py-2 bg-gray-100 dark:bg-[#201b31]"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="i1102642230__icon w-5" viewBox="0 0 32 32"><path fill="#007acc" d="M23.827 8.243a4.424 4.424 0 0 1 2.223 1.281 5.853 5.853 0 0 1 .852 1.143c.011.045-1.534 1.083-2.471 1.662-.034.023-.169-.124-.322-.35a2.014 2.014 0 0 0-1.67-1c-1.077-.074-1.771.49-1.766 1.433a1.3 1.3 0 0 0 .153.666c.237.49.677.784 2.059 1.383 2.544 1.095 3.636 1.817 4.31 2.843a5.158 5.158 0 0 1 .416 4.333 4.764 4.764 0 0 1-3.932 2.815 10.9 10.9 0 0 1-2.708-.028 6.531 6.531 0 0 1-3.616-1.884 6.278 6.278 0 0 1-.926-1.371 2.655 2.655 0 0 1 .327-.208c.158-.09.756-.434 1.32-.761l1.024-.6.214.312a4.771 4.771 0 0 0 1.35 1.292 3.3 3.3 0 0 0 3.458-.175 1.545 1.545 0 0 0 .2-1.974c-.276-.395-.84-.727-2.443-1.422a8.8 8.8 0 0 1-3.349-2.055 4.687 4.687 0 0 1-.976-1.777 7.116 7.116 0 0 1-.062-2.268 4.332 4.332 0 0 1 3.644-3.374 9 9 0 0 1 2.691.084m-8.343 1.483.011 1.454h-4.63v13.148H7.6V11.183H2.97V9.755a13.986 13.986 0 0 1 .04-1.466c.017-.023 2.832-.034 6.245-.028l6.211.017Z"></path></svg>  <button class="ml-auto cursor-pointer"><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" aria-hidden="true" class="i1857144300__with-icon_icon__MHUeb" data-testid="geist-icon" shape-rendering="geometricPrecision" style="color:currentcolor;width:20px;height:20px;" viewBox="0 0 24 24"><path d="M6 17a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7a2 2 0 0 1 1.732 1M11 21h7a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-7a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2Z"></path></svg></button></div><div class="pre-body flex flex-col rounded-sm overflow-hidden" tabindex="0"><pre class="shiki shiki-themes one-light aurora-x" style="--shiki-light:#383A42;--shiki-dark:#bbbbbb;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#07090F" tabindex="0"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">type</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Scoped</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">String</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Scope</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF"> `</span><span style="--shiki-light:#CA1243;--shiki-dark:#89DDFF">${</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">Scope</span><span style="--shiki-light:#CA1243;--shiki-dark:#89DDFF">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#C3E88D">/</span><span style="--shiki-light:#CA1243;--shiki-dark:#89DDFF">${</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">String</span><span style="--shiki-light:#CA1243;--shiki-dark:#89DDFF">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">`</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">export</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> const</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> createSlice</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> &#x3C;</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  Name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  State</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Record</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6">string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> unknown</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>,</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  Actions</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Record</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6">string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> SliceActionCreator</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">State</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>>,</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  ActionKey</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Extract</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">keyof</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Actions</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>,</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  ScopedActionType</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Scoped</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">ActionKey</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Name</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>,</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  ActionPayload</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Parameters</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">Actions</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">ActionKey</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#986801;--shiki-dark:#F78C6C">1</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  Action</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF"> type</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> ScopedActionType</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF"> payload</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> ActionPayload</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> },</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">{</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">    name</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">    actions</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">    defaultState</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">    selectors</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  }</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> CreateSliceProps</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">Name</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> State</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Actions</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Selectors</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">=></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">  const</span><span style="--shiki-light:#986801;--shiki-dark:#F07178"> actionKeys</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> Object</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">keys</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">actions</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">) </span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">as</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> ActionKey</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">  const</span><span style="--shiki-light:#986801;--shiki-dark:#F07178"> actionTypeByActionKey</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> actionKeys</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">reduce</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">acc</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C"> action</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">    const</span><span style="--shiki-light:#986801;--shiki-dark:#F07178"> scopedActionType</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF"> `</span><span style="--shiki-light:#CA1243;--shiki-dark:#89DDFF">${</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">name</span><span style="--shiki-light:#CA1243;--shiki-dark:#89DDFF">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#C3E88D">/</span><span style="--shiki-light:#CA1243;--shiki-dark:#89DDFF">${</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">action</span><span style="--shiki-light:#CA1243;--shiki-dark:#89DDFF">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">`</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> as</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> ScopedActionType</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">    acc</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">scopedActionType</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> action</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> acc</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  },</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {}</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> as</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Record</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">ScopedActionType</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> ActionKey</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">)</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">  const</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> reducer</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">state</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> State</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> defaultState</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C"> action</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Action</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">    const</span><span style="--shiki-light:#986801;--shiki-dark:#F07178"> nextState</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> produce</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C"> draft</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">      const</span><span style="--shiki-light:#986801;--shiki-dark:#F07178"> actionType</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> actionTypeByActionKey</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">action</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#C18401;--shiki-dark:#F07178">type</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">      actions</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">actionType</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">?.</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">draft</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> as</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> State</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> action</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">payload</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">)</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">    }</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">)</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> nextState</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">  const</span><span style="--shiki-light:#986801;--shiki-dark:#F07178"> sliceActions</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> actionKeys</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">reduce</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">acc</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C"> curr</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">    acc</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">curr</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">payload</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">      const</span><span style="--shiki-light:#986801;--shiki-dark:#F07178"> scopedActionType</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF"> `</span><span style="--shiki-light:#CA1243;--shiki-dark:#89DDFF">${</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">name</span><span style="--shiki-light:#CA1243;--shiki-dark:#89DDFF">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#C3E88D">/</span><span style="--shiki-light:#CA1243;--shiki-dark:#89DDFF">${</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">curr</span><span style="--shiki-light:#CA1243;--shiki-dark:#89DDFF">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">`</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> as</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> ScopedActionType</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">      return</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">        type</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> scopedActionType</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">        payload</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">      };</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">    };</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> acc</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  },</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {}</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> as</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">    [</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">ActionKey</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> in</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Extract</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">keyof</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Actions</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">payload</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Parameters</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">Actions</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">ActionKey</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#986801;--shiki-dark:#F78C6C">1</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF"> type</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Scoped</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">ActionKey</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Name</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>,</span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF"> payload</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> P</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  }</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">)</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">    actions</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> sliceActions</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  };</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">};</span></span></code></pre></div></div><p><!--[-->Остановлюсь на некоторых аспектах типизации чуть подробнее<!--]--></p><p><!--[-->должен быть генериком, который будет на лету подхватывать ключи из переданного объекта <code class="code" data-v-4d236a82><!--[-->Actions<!--]--></code>.
У объекта в качестве ключа помимо строки может быть число или символ.
Чтобы избежать проблем с типизацией, нужно достать только строки при помощи  <code class="code" data-v-4d236a82><!--[-->Extract&lt;keyof Actions, string&gt;<!--]--></code><!--]--></p><p><!--[-->Чтобы сгенерировать экшены с правильным payload (чтобы у <code class="code" data-v-4d236a82><!--[-->addUser<!--]--></code> была поддержка типизации и аргументом был именно <code class="code" data-v-4d236a82><!--[-->user: User<!--]--></code>),
нужно достать второй аргумент из переданного коллбека. Для этого воспользуемся хелпером <code class="code" data-v-4d236a82><!--[-->Parameters<!--]--></code>
и укажем нужный <code class="code" data-v-4d236a82><!--[-->ActionKey<!--]--></code>-  <code class="code" data-v-4d236a82><!--[-->Parameters&lt;Actions[ActionType]&gt;[1]<!--]--></code><!--]--></p><p><!--[-->Проверим, что все работает правильно:<!--]--></p><div class="codeSnippet text-body2 border border-gray-100 dark:border-gray-700 rounded-sm overflow-hidden language-ts shiki shiki-themes github-light github-dark" data-lang="ts"><div class="caption flex items-center gap-1 text-gray-700 dark:text-white rounded-t overflow-hidden px-4 py-2 bg-gray-100 dark:bg-[#201b31]"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="i1102642230__icon w-5" viewBox="0 0 32 32"><path fill="#007acc" d="M23.827 8.243a4.424 4.424 0 0 1 2.223 1.281 5.853 5.853 0 0 1 .852 1.143c.011.045-1.534 1.083-2.471 1.662-.034.023-.169-.124-.322-.35a2.014 2.014 0 0 0-1.67-1c-1.077-.074-1.771.49-1.766 1.433a1.3 1.3 0 0 0 .153.666c.237.49.677.784 2.059 1.383 2.544 1.095 3.636 1.817 4.31 2.843a5.158 5.158 0 0 1 .416 4.333 4.764 4.764 0 0 1-3.932 2.815 10.9 10.9 0 0 1-2.708-.028 6.531 6.531 0 0 1-3.616-1.884 6.278 6.278 0 0 1-.926-1.371 2.655 2.655 0 0 1 .327-.208c.158-.09.756-.434 1.32-.761l1.024-.6.214.312a4.771 4.771 0 0 0 1.35 1.292 3.3 3.3 0 0 0 3.458-.175 1.545 1.545 0 0 0 .2-1.974c-.276-.395-.84-.727-2.443-1.422a8.8 8.8 0 0 1-3.349-2.055 4.687 4.687 0 0 1-.976-1.777 7.116 7.116 0 0 1-.062-2.268 4.332 4.332 0 0 1 3.644-3.374 9 9 0 0 1 2.691.084m-8.343 1.483.011 1.454h-4.63v13.148H7.6V11.183H2.97V9.755a13.986 13.986 0 0 1 .04-1.466c.017-.023 2.832-.034 6.245-.028l6.211.017Z"></path></svg>  <button class="ml-auto cursor-pointer"><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" aria-hidden="true" class="i1857144300__with-icon_icon__MHUeb" data-testid="geist-icon" shape-rendering="geometricPrecision" style="color:currentcolor;width:20px;height:20px;" viewBox="0 0 24 24"><path d="M6 17a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7a2 2 0 0 1 1.732 1M11 21h7a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-7a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2Z"></path></svg></button></div><div class="pre-body flex flex-col rounded-sm overflow-hidden" tabindex="0"><pre class="shiki shiki-themes one-light aurora-x" style="--shiki-light:#383A42;--shiki-dark:#bbbbbb;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#07090F" tabindex="0"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">export</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> const</span><span style="--shiki-light:#986801;--shiki-dark:#EEFFFF"> usersSlice</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> createSlice</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">{</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">  name</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF"> '</span><span style="--shiki-light:#50A14F;--shiki-dark:#C3E88D">users</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">  defaultState</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">    userById</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {}</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> as</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Record</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6">string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> User</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">    usernameById</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {}</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> as</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Record</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6">string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  },</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">  actions</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">    addUser</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C"> user</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> User</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#546E7A;--shiki-dark-font-style:italic">      // state должен иметь тот же тип, что и defaultState</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">      state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">userById</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">user</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#C18401;--shiki-dark:#F07178">id</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> user</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">      state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">usernameById</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">user</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#C18401;--shiki-dark:#F07178">username</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> user</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">id</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">    },</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">    deleteUser</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C"> userId</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">      const</span><span style="--shiki-light:#986801;--shiki-dark:#F07178"> user</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">userById</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">userId</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">      delete</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">usernameById</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">user</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#C18401;--shiki-dark:#F07178">username</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">      delete</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">userById</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">userId</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  },</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">  selectors</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">    selectUserByUsername</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C"> username</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF"> state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#EEFFFF">userById</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#C18401;--shiki-dark:#EEFFFF">usernameById</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">username</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">}</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">)</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">usersSlice</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#EEFFFF">actions</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#546E7A;--shiki-dark-font-style:italic"> // можно навести на actions и увидеть его тип</span></span></code></pre></div></div><p><!--[--><img src="/images/actions-type-hightlight.png" alt="Подсказка в vs code"><!--]--></p><h2 id="reducer"><a href="#reducer"><!--[-->Редьюсер<!--]--></a></h2><p><!--[-->По своей сути редьюсер - это чистая функция, которая принимает два аргумента - <code class="code" data-v-4d236a82><!--[-->state<!--]--></code> и <code class="code" data-v-4d236a82><!--[-->action<!--]--></code> и возвращает <code class="code" data-v-4d236a82><!--[-->nextState<!--]--></code>.
Очень важно при этом, чтобы стейт был иммутабельным, ради этого обычно используются страшные конструкции вроде<!--]--></p><div class="codeSnippet text-body2 border border-gray-100 dark:border-gray-700 rounded-sm overflow-hidden language-ts shiki shiki-themes github-light github-dark" data-lang="ts"><div class="caption flex items-center gap-1 text-gray-700 dark:text-white rounded-t overflow-hidden px-4 py-2 bg-gray-100 dark:bg-[#201b31]"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="i1102642230__icon w-5" viewBox="0 0 32 32"><path fill="#007acc" d="M23.827 8.243a4.424 4.424 0 0 1 2.223 1.281 5.853 5.853 0 0 1 .852 1.143c.011.045-1.534 1.083-2.471 1.662-.034.023-.169-.124-.322-.35a2.014 2.014 0 0 0-1.67-1c-1.077-.074-1.771.49-1.766 1.433a1.3 1.3 0 0 0 .153.666c.237.49.677.784 2.059 1.383 2.544 1.095 3.636 1.817 4.31 2.843a5.158 5.158 0 0 1 .416 4.333 4.764 4.764 0 0 1-3.932 2.815 10.9 10.9 0 0 1-2.708-.028 6.531 6.531 0 0 1-3.616-1.884 6.278 6.278 0 0 1-.926-1.371 2.655 2.655 0 0 1 .327-.208c.158-.09.756-.434 1.32-.761l1.024-.6.214.312a4.771 4.771 0 0 0 1.35 1.292 3.3 3.3 0 0 0 3.458-.175 1.545 1.545 0 0 0 .2-1.974c-.276-.395-.84-.727-2.443-1.422a8.8 8.8 0 0 1-3.349-2.055 4.687 4.687 0 0 1-.976-1.777 7.116 7.116 0 0 1-.062-2.268 4.332 4.332 0 0 1 3.644-3.374 9 9 0 0 1 2.691.084m-8.343 1.483.011 1.454h-4.63v13.148H7.6V11.183H2.97V9.755a13.986 13.986 0 0 1 .04-1.466c.017-.023 2.832-.034 6.245-.028l6.211.017Z"></path></svg>  <button class="ml-auto cursor-pointer"><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" aria-hidden="true" class="i1857144300__with-icon_icon__MHUeb" data-testid="geist-icon" shape-rendering="geometricPrecision" style="color:currentcolor;width:20px;height:20px;" viewBox="0 0 24 24"><path d="M6 17a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7a2 2 0 0 1 1.732 1M11 21h7a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-7a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2Z"></path></svg></button></div><div class="pre-body flex flex-col rounded-sm overflow-hidden" tabindex="0"><pre class="shiki shiki-themes one-light aurora-x" style="--shiki-light:#383A42;--shiki-dark:#bbbbbb;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#07090F" tabindex="0"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">const</span><span style="--shiki-light:#986801;--shiki-dark:#EEFFFF"> nextState</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">  ...</span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">  userById</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">    ...</span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#EEFFFF">userById</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">    [</span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">user</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#C18401;--shiki-dark:#EEFFFF">id</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF"> user</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB"> </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">};</span></span></code></pre></div></div><p><!--[-->Чтобы облегчить себе жизнь, для создания иммутабельного стейта предлагаю использовать
<a href="https://www.npmjs.com/package/immer" rel="nofollow"><!--[-->https://www.npmjs.com/package/immer<!--]--></a>](<a href="https://github.com/immerjs/immer" rel="nofollow"><!--[-->https://github.com/immerjs/immer<!--]--></a>), в частности метод
produce](<a href="https://immerjs.github.io/immer/produce" rel="nofollow"><!--[-->https://immerjs.github.io/immer/produce<!--]--></a>)<!--]--></p><p><!--[-->таким образом все, что нам нужно - это вызвать внутри <code class="code" data-v-4d236a82><!--[-->produce<!--]--></code> нужный коллбек (экшен), передав туда драфт стейта и payload экшена<!--]--></p><div class="codeSnippet text-body2 border border-gray-100 dark:border-gray-700 rounded-sm overflow-hidden language-ts shiki shiki-themes github-light github-dark" data-lang="ts"><div class="caption flex items-center gap-1 text-gray-700 dark:text-white rounded-t overflow-hidden px-4 py-2 bg-gray-100 dark:bg-[#201b31]"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="i1102642230__icon w-5" viewBox="0 0 32 32"><path fill="#007acc" d="M23.827 8.243a4.424 4.424 0 0 1 2.223 1.281 5.853 5.853 0 0 1 .852 1.143c.011.045-1.534 1.083-2.471 1.662-.034.023-.169-.124-.322-.35a2.014 2.014 0 0 0-1.67-1c-1.077-.074-1.771.49-1.766 1.433a1.3 1.3 0 0 0 .153.666c.237.49.677.784 2.059 1.383 2.544 1.095 3.636 1.817 4.31 2.843a5.158 5.158 0 0 1 .416 4.333 4.764 4.764 0 0 1-3.932 2.815 10.9 10.9 0 0 1-2.708-.028 6.531 6.531 0 0 1-3.616-1.884 6.278 6.278 0 0 1-.926-1.371 2.655 2.655 0 0 1 .327-.208c.158-.09.756-.434 1.32-.761l1.024-.6.214.312a4.771 4.771 0 0 0 1.35 1.292 3.3 3.3 0 0 0 3.458-.175 1.545 1.545 0 0 0 .2-1.974c-.276-.395-.84-.727-2.443-1.422a8.8 8.8 0 0 1-3.349-2.055 4.687 4.687 0 0 1-.976-1.777 7.116 7.116 0 0 1-.062-2.268 4.332 4.332 0 0 1 3.644-3.374 9 9 0 0 1 2.691.084m-8.343 1.483.011 1.454h-4.63v13.148H7.6V11.183H2.97V9.755a13.986 13.986 0 0 1 .04-1.466c.017-.023 2.832-.034 6.245-.028l6.211.017Z"></path></svg>  <button class="ml-auto cursor-pointer"><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" aria-hidden="true" class="i1857144300__with-icon_icon__MHUeb" data-testid="geist-icon" shape-rendering="geometricPrecision" style="color:currentcolor;width:20px;height:20px;" viewBox="0 0 24 24"><path d="M6 17a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7a2 2 0 0 1 1.732 1M11 21h7a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-7a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2Z"></path></svg></button></div><div class="pre-body flex flex-col rounded-sm overflow-hidden" tabindex="0"><pre class="shiki shiki-themes one-light aurora-x" style="--shiki-light:#383A42;--shiki-dark:#bbbbbb;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#07090F" tabindex="0"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">const</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> reducer</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">state</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> State</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF"> defaultState</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C"> action</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Action</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">  const</span><span style="--shiki-light:#986801;--shiki-dark:#F07178"> nextState</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> produce</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C"> draft</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">    actions</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">action</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#C18401;--shiki-dark:#F07178">type</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">?.</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">draft</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> as</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> State</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> action</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">payload</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">)</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  }</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">)</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> nextState</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">};</span></span></code></pre></div></div><h2 id="selectors"><a href="#selectors"><!--[-->Селекторы<!--]--></a></h2><p><!--[-->Для работы в связке с react + redux используется хук <code class="code" data-v-4d236a82><!--[-->useSelector<!--]--></code> .<!--]--></p><p><!--[-->Чтобы реакт знал и мог реагировать (делать ререндер компонента) на изменения в стейте существует метод
useSyncExternalStore](<a href="https://react.dev/reference/react/useSyncExternalStore" rel="nofollow"><!--[-->https://react.dev/reference/react/useSyncExternalStore<!--]--></a>)<!--]--></p><p><!--[-->Например, чтобы получить актуальный стейт, можно написать следующий код:<!--]--></p><div class="codeSnippet text-body2 border border-gray-100 dark:border-gray-700 rounded-sm overflow-hidden language-ts shiki shiki-themes github-light github-dark" data-lang="ts"><div class="caption flex items-center gap-1 text-gray-700 dark:text-white rounded-t overflow-hidden px-4 py-2 bg-gray-100 dark:bg-[#201b31]"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="i1102642230__icon w-5" viewBox="0 0 32 32"><path fill="#007acc" d="M23.827 8.243a4.424 4.424 0 0 1 2.223 1.281 5.853 5.853 0 0 1 .852 1.143c.011.045-1.534 1.083-2.471 1.662-.034.023-.169-.124-.322-.35a2.014 2.014 0 0 0-1.67-1c-1.077-.074-1.771.49-1.766 1.433a1.3 1.3 0 0 0 .153.666c.237.49.677.784 2.059 1.383 2.544 1.095 3.636 1.817 4.31 2.843a5.158 5.158 0 0 1 .416 4.333 4.764 4.764 0 0 1-3.932 2.815 10.9 10.9 0 0 1-2.708-.028 6.531 6.531 0 0 1-3.616-1.884 6.278 6.278 0 0 1-.926-1.371 2.655 2.655 0 0 1 .327-.208c.158-.09.756-.434 1.32-.761l1.024-.6.214.312a4.771 4.771 0 0 0 1.35 1.292 3.3 3.3 0 0 0 3.458-.175 1.545 1.545 0 0 0 .2-1.974c-.276-.395-.84-.727-2.443-1.422a8.8 8.8 0 0 1-3.349-2.055 4.687 4.687 0 0 1-.976-1.777 7.116 7.116 0 0 1-.062-2.268 4.332 4.332 0 0 1 3.644-3.374 9 9 0 0 1 2.691.084m-8.343 1.483.011 1.454h-4.63v13.148H7.6V11.183H2.97V9.755a13.986 13.986 0 0 1 .04-1.466c.017-.023 2.832-.034 6.245-.028l6.211.017Z"></path></svg>  <button class="ml-auto cursor-pointer"><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" aria-hidden="true" class="i1857144300__with-icon_icon__MHUeb" data-testid="geist-icon" shape-rendering="geometricPrecision" style="color:currentcolor;width:20px;height:20px;" viewBox="0 0 24 24"><path d="M6 17a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7a2 2 0 0 1 1.732 1M11 21h7a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-7a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2Z"></path></svg></button></div><div class="pre-body flex flex-col rounded-sm overflow-hidden" tabindex="0"><pre class="shiki shiki-themes one-light aurora-x" style="--shiki-light:#383A42;--shiki-dark:#bbbbbb;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#07090F" tabindex="0"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">const</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> useStore</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> ()</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">  const</span><span style="--shiki-light:#986801;--shiki-dark:#F07178"> state</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> useSyncExternalStore</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">    myStore</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">subscribe</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">    myStore</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">getState</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">  )</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">};</span></span></code></pre></div></div><p><!--[-->Мы могли бы даже использовать селектор, чтобы достать из стора нужные нам данные,
однако такая реализация будет реагировать на <strong><!--[-->любые<!--]--></strong> изменения в стейте.<!--]--></p><p><!--[-->Мы же хотим, чтобы наш useSelector реагировал только на изменения результата селектора, а не всего стейта.
Т.е. чтобы селектор<!--]--></p><div class="codeSnippet text-body2 border border-gray-100 dark:border-gray-700 rounded-sm overflow-hidden language-ts shiki shiki-themes github-light github-dark" data-lang="ts"><div class="caption flex items-center gap-1 text-gray-700 dark:text-white rounded-t overflow-hidden px-4 py-2 bg-gray-100 dark:bg-[#201b31]"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="i1102642230__icon w-5" viewBox="0 0 32 32"><path fill="#007acc" d="M23.827 8.243a4.424 4.424 0 0 1 2.223 1.281 5.853 5.853 0 0 1 .852 1.143c.011.045-1.534 1.083-2.471 1.662-.034.023-.169-.124-.322-.35a2.014 2.014 0 0 0-1.67-1c-1.077-.074-1.771.49-1.766 1.433a1.3 1.3 0 0 0 .153.666c.237.49.677.784 2.059 1.383 2.544 1.095 3.636 1.817 4.31 2.843a5.158 5.158 0 0 1 .416 4.333 4.764 4.764 0 0 1-3.932 2.815 10.9 10.9 0 0 1-2.708-.028 6.531 6.531 0 0 1-3.616-1.884 6.278 6.278 0 0 1-.926-1.371 2.655 2.655 0 0 1 .327-.208c.158-.09.756-.434 1.32-.761l1.024-.6.214.312a4.771 4.771 0 0 0 1.35 1.292 3.3 3.3 0 0 0 3.458-.175 1.545 1.545 0 0 0 .2-1.974c-.276-.395-.84-.727-2.443-1.422a8.8 8.8 0 0 1-3.349-2.055 4.687 4.687 0 0 1-.976-1.777 7.116 7.116 0 0 1-.062-2.268 4.332 4.332 0 0 1 3.644-3.374 9 9 0 0 1 2.691.084m-8.343 1.483.011 1.454h-4.63v13.148H7.6V11.183H2.97V9.755a13.986 13.986 0 0 1 .04-1.466c.017-.023 2.832-.034 6.245-.028l6.211.017Z"></path></svg>  <button class="ml-auto cursor-pointer"><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" aria-hidden="true" class="i1857144300__with-icon_icon__MHUeb" data-testid="geist-icon" shape-rendering="geometricPrecision" style="color:currentcolor;width:20px;height:20px;" viewBox="0 0 24 24"><path d="M6 17a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7a2 2 0 0 1 1.732 1M11 21h7a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-7a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2Z"></path></svg></button></div><div class="pre-body flex flex-col rounded-sm overflow-hidden" tabindex="0"><pre class="shiki shiki-themes one-light aurora-x" style="--shiki-light:#383A42;--shiki-dark:#bbbbbb;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#07090F" tabindex="0"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">const</span><span style="--shiki-light:#986801;--shiki-dark:#EEFFFF"> username</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> useSelector</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">state</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF"> state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#EEFFFF">users</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#EEFFFF">usersById</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#50A14F;--shiki-dark:#C3E88D">some-id</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#EEFFFF">username</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">)</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span></code></pre></div></div><p><!--[-->реагировал только на изменение username конкретного юзера (с id = “some-id”).<!--]--></p><p><!--[-->Предлагаю не писать велосипед и использовать <code class="code" data-v-4d236a82><!--[-->useSyncExternalStoreWithSelector<!--]--></code>.
Это модифицированная версия <code class="code" data-v-4d236a82><!--[-->useSyncExternalStore<!--]--></code> c поддержкой селекторов и мемоизацией.<!--]--></p><p><!--[-->Таким образом хелпер для создания <code class="code" data-v-4d236a82><!--[-->useSelector<!--]--></code> будет выглядеть следующим образом:<!--]--></p><div class="codeSnippet text-body2 border border-gray-100 dark:border-gray-700 rounded-sm overflow-hidden language-ts shiki shiki-themes github-light github-dark" data-lang="ts"><div class="caption flex items-center gap-1 text-gray-700 dark:text-white rounded-t overflow-hidden px-4 py-2 bg-gray-100 dark:bg-[#201b31]"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="i1102642230__icon w-5" viewBox="0 0 32 32"><path fill="#007acc" d="M23.827 8.243a4.424 4.424 0 0 1 2.223 1.281 5.853 5.853 0 0 1 .852 1.143c.011.045-1.534 1.083-2.471 1.662-.034.023-.169-.124-.322-.35a2.014 2.014 0 0 0-1.67-1c-1.077-.074-1.771.49-1.766 1.433a1.3 1.3 0 0 0 .153.666c.237.49.677.784 2.059 1.383 2.544 1.095 3.636 1.817 4.31 2.843a5.158 5.158 0 0 1 .416 4.333 4.764 4.764 0 0 1-3.932 2.815 10.9 10.9 0 0 1-2.708-.028 6.531 6.531 0 0 1-3.616-1.884 6.278 6.278 0 0 1-.926-1.371 2.655 2.655 0 0 1 .327-.208c.158-.09.756-.434 1.32-.761l1.024-.6.214.312a4.771 4.771 0 0 0 1.35 1.292 3.3 3.3 0 0 0 3.458-.175 1.545 1.545 0 0 0 .2-1.974c-.276-.395-.84-.727-2.443-1.422a8.8 8.8 0 0 1-3.349-2.055 4.687 4.687 0 0 1-.976-1.777 7.116 7.116 0 0 1-.062-2.268 4.332 4.332 0 0 1 3.644-3.374 9 9 0 0 1 2.691.084m-8.343 1.483.011 1.454h-4.63v13.148H7.6V11.183H2.97V9.755a13.986 13.986 0 0 1 .04-1.466c.017-.023 2.832-.034 6.245-.028l6.211.017Z"></path></svg>  <button class="ml-auto cursor-pointer"><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" aria-hidden="true" class="i1857144300__with-icon_icon__MHUeb" data-testid="geist-icon" shape-rendering="geometricPrecision" style="color:currentcolor;width:20px;height:20px;" viewBox="0 0 24 24"><path d="M6 17a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7a2 2 0 0 1 1.732 1M11 21h7a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-7a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2Z"></path></svg></button></div><div class="pre-body flex flex-col rounded-sm overflow-hidden" tabindex="0"><pre class="shiki shiki-themes one-light aurora-x" style="--shiki-light:#383A42;--shiki-dark:#bbbbbb;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#07090F" tabindex="0"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">import</span><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF"> type</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> Store</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> as</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178"> ReduxStore</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> }</span><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF"> from</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF"> '</span><span style="--shiki-light:#50A14F;--shiki-dark:#C3E88D">redux</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">import</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178"> useSyncExternalStoreWithSelector</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> }</span><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF"> from</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF"> '</span><span style="--shiki-light:#50A14F;--shiki-dark:#C3E88D">use-sync-external-store/with-selector</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">export</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> const</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> createUseSelector</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> &#x3C;</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  Store</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> ReduxStore</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  State</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> ReturnType</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">Store</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#50A14F;--shiki-dark:#C3E88D">getState</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">store</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Store</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">=></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">  const</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> useSelector</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> &#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">Selector</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">state</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> State</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> unknown</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>(</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">selector</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Selector</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">    return</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> useSyncExternalStoreWithSelector</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">      store</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">subscribe</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">      store</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">getState</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">      store</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">getState</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">      selector</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">    ) </span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">as</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> ReturnType</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">Selector</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> useSelector</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">};</span></span></code></pre></div></div><h2 id="global-store"><a href="#global-store"><!--[-->Глобальный стор<!--]--></a></h2><p><!--[-->В redux-toolkit есть метод <code class="code" data-v-4d236a82><!--[-->configureStore<!--]--></code> для создания глобального стора.
Предлагаю написать минималистичную версию, которая лишь объединяет редьюсеры и создает store<!--]--></p><div class="codeSnippet text-body2 border border-gray-100 dark:border-gray-700 rounded-sm overflow-hidden language-ts shiki shiki-themes github-light github-dark" data-lang="ts"><div class="caption flex items-center gap-1 text-gray-700 dark:text-white rounded-t overflow-hidden px-4 py-2 bg-gray-100 dark:bg-[#201b31]"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="i1102642230__icon w-5" viewBox="0 0 32 32"><path fill="#007acc" d="M23.827 8.243a4.424 4.424 0 0 1 2.223 1.281 5.853 5.853 0 0 1 .852 1.143c.011.045-1.534 1.083-2.471 1.662-.034.023-.169-.124-.322-.35a2.014 2.014 0 0 0-1.67-1c-1.077-.074-1.771.49-1.766 1.433a1.3 1.3 0 0 0 .153.666c.237.49.677.784 2.059 1.383 2.544 1.095 3.636 1.817 4.31 2.843a5.158 5.158 0 0 1 .416 4.333 4.764 4.764 0 0 1-3.932 2.815 10.9 10.9 0 0 1-2.708-.028 6.531 6.531 0 0 1-3.616-1.884 6.278 6.278 0 0 1-.926-1.371 2.655 2.655 0 0 1 .327-.208c.158-.09.756-.434 1.32-.761l1.024-.6.214.312a4.771 4.771 0 0 0 1.35 1.292 3.3 3.3 0 0 0 3.458-.175 1.545 1.545 0 0 0 .2-1.974c-.276-.395-.84-.727-2.443-1.422a8.8 8.8 0 0 1-3.349-2.055 4.687 4.687 0 0 1-.976-1.777 7.116 7.116 0 0 1-.062-2.268 4.332 4.332 0 0 1 3.644-3.374 9 9 0 0 1 2.691.084m-8.343 1.483.011 1.454h-4.63v13.148H7.6V11.183H2.97V9.755a13.986 13.986 0 0 1 .04-1.466c.017-.023 2.832-.034 6.245-.028l6.211.017Z"></path></svg>  <button class="ml-auto cursor-pointer"><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" aria-hidden="true" class="i1857144300__with-icon_icon__MHUeb" data-testid="geist-icon" shape-rendering="geometricPrecision" style="color:currentcolor;width:20px;height:20px;" viewBox="0 0 24 24"><path d="M6 17a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7a2 2 0 0 1 1.732 1M11 21h7a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-7a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2Z"></path></svg></button></div><div class="pre-body flex flex-col rounded-sm overflow-hidden" tabindex="0"><pre class="shiki shiki-themes one-light aurora-x" style="--shiki-light:#383A42;--shiki-dark:#bbbbbb;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#07090F" tabindex="0"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">import</span><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF"> type</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178"> Reducer</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> }</span><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF"> from</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF"> '</span><span style="--shiki-light:#50A14F;--shiki-dark:#C3E88D">redux</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">type</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> SliceAction</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">Type</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Payload</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> unknown</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">  type</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Type</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">  payload</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Payload</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">type</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> SimpleSlice</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">Name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> ReducerType</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Reducer</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6">any</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> any</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>></span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">  name</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Name</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">  reducer</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> ReducerType</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">type</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> TypesFromSlices</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">T</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> T</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> readonly</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF"> name</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> infer</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Name</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#0184BC;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF"> reducer</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Reducer</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">infer</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> State</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> infer</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Action</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> }</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[]</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">  ?</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Action</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> SliceAction</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">infer</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Type</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> infer</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Payload</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">  ?</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">    action</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> SliceAction</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">Type</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Payload</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">    state</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB"> [</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">P</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> in</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Name</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> State</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  }</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> :</span><span style="--shiki-light:#0184BC;--shiki-dark:#B2CCD6"> never</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> :</span><span style="--shiki-light:#0184BC;--shiki-dark:#B2CCD6"> never</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">export</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> const</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> configureStore</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> &#x3C;</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  Slice</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> SimpleSlice</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6">string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Reducer</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6">any</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> any</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> any</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>>,</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  State</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> TypesFromSlices</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">Slice</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#50A14F;--shiki-dark:#C3E88D">state</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  Action</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> TypesFromSlices</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">Slice</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#50A14F;--shiki-dark:#C3E88D">action</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">slices</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Slice</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[]) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">=></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">  const</span><span style="--shiki-light:#986801;--shiki-dark:#F07178"> reducersByName</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> slices</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">reduce</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">acc</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C"> current</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">    acc</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">current</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#C18401;--shiki-dark:#F07178">name</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> current</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">reducer</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> acc</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  },</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {}</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> as</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Record</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6">string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Reducer</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">)</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">  const</span><span style="--shiki-light:#986801;--shiki-dark:#F07178"> reducer</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> combineReducers</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">reducersByName</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">) </span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">as</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Reducer</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">State</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Action</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">  const</span><span style="--shiki-light:#986801;--shiki-dark:#F07178"> store</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> createStore</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">reducer</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">)</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">    store</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  };</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">};</span></span></code></pre></div></div><p><!--[-->Чтобы правильно типизировать созданный стор, нужно указать стейт и экшены редьюсера,
который будет создан при помощи <code class="code" data-v-4d236a82><!--[-->combineReducers<!--]--></code>.
Мы можем извлечь стейт и экшены из редьюсеров при помощи <code class="code" data-v-4d236a82><!--[-->infer<!--]--></code>.
В хелпере <code class="code" data-v-4d236a82><!--[-->TypesFromSlices<!--]--></code> мы постепенно проверяем сначала, что <code class="code" data-v-4d236a82><!--[-->T<!--]--></code> расширяет массив объектов,
где есть два интересующих нас поля - <code class="code" data-v-4d236a82><!--[-->name<!--]--></code> и <code class="code" data-v-4d236a82><!--[-->reducer<!--]--></code>. Мы можем вытащить типы этих полей при помощи <code class="code" data-v-4d236a82><!--[-->infer<!--]--></code>.
Похожим образом при помощи <code class="code" data-v-4d236a82><!--[-->infer<!--]--></code> можно вытащить типы <code class="code" data-v-4d236a82><!--[-->State<!--]--></code> и <code class="code" data-v-4d236a82><!--[-->Action<!--]--></code>.
Из <code class="code" data-v-4d236a82><!--[-->Action<!--]--></code> в свою очередь можно достать <code class="code" data-v-4d236a82><!--[-->Type<!--]--></code> и <code class="code" data-v-4d236a82><!--[-->Payload<!--]--></code>.
После этого мы можем вернуть извлеченные типы для <code class="code" data-v-4d236a82><!--[-->action<!--]--></code> и <code class="code" data-v-4d236a82><!--[-->state<!--]--></code><!--]--></p><h2 id="bring-all-together"><a href="#bring-all-together"><!--[-->Собираем все вместе<!--]--></a></h2><div class="codeSnippet text-body2 border border-gray-100 dark:border-gray-700 rounded-sm overflow-hidden language-ts shiki shiki-themes github-light github-dark" data-lang="ts"><div class="caption flex items-center gap-1 text-gray-700 dark:text-white rounded-t overflow-hidden px-4 py-2 bg-gray-100 dark:bg-[#201b31]"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="i1102642230__icon w-5" viewBox="0 0 32 32"><path fill="#007acc" d="M23.827 8.243a4.424 4.424 0 0 1 2.223 1.281 5.853 5.853 0 0 1 .852 1.143c.011.045-1.534 1.083-2.471 1.662-.034.023-.169-.124-.322-.35a2.014 2.014 0 0 0-1.67-1c-1.077-.074-1.771.49-1.766 1.433a1.3 1.3 0 0 0 .153.666c.237.49.677.784 2.059 1.383 2.544 1.095 3.636 1.817 4.31 2.843a5.158 5.158 0 0 1 .416 4.333 4.764 4.764 0 0 1-3.932 2.815 10.9 10.9 0 0 1-2.708-.028 6.531 6.531 0 0 1-3.616-1.884 6.278 6.278 0 0 1-.926-1.371 2.655 2.655 0 0 1 .327-.208c.158-.09.756-.434 1.32-.761l1.024-.6.214.312a4.771 4.771 0 0 0 1.35 1.292 3.3 3.3 0 0 0 3.458-.175 1.545 1.545 0 0 0 .2-1.974c-.276-.395-.84-.727-2.443-1.422a8.8 8.8 0 0 1-3.349-2.055 4.687 4.687 0 0 1-.976-1.777 7.116 7.116 0 0 1-.062-2.268 4.332 4.332 0 0 1 3.644-3.374 9 9 0 0 1 2.691.084m-8.343 1.483.011 1.454h-4.63v13.148H7.6V11.183H2.97V9.755a13.986 13.986 0 0 1 .04-1.466c.017-.023 2.832-.034 6.245-.028l6.211.017Z"></path></svg> myReduxToolkit.ts <button class="ml-auto cursor-pointer"><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" aria-hidden="true" class="i1857144300__with-icon_icon__MHUeb" data-testid="geist-icon" shape-rendering="geometricPrecision" style="color:currentcolor;width:20px;height:20px;" viewBox="0 0 24 24"><path d="M6 17a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7a2 2 0 0 1 1.732 1M11 21h7a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-7a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2Z"></path></svg></button></div><div class="pre-body flex flex-col rounded-sm overflow-hidden" tabindex="0"><pre class="shiki shiki-themes one-light aurora-x" style="--shiki-light:#383A42;--shiki-dark:#bbbbbb;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#07090F" tabindex="0"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">import</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178"> createStore</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178"> combineReducers</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> }</span><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF"> from</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF"> '</span><span style="--shiki-light:#50A14F;--shiki-dark:#C3E88D">redux</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">import</span><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF"> type</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> Store</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> as</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178"> ReduxStore</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178"> Reducer</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> }</span><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF"> from</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF"> '</span><span style="--shiki-light:#50A14F;--shiki-dark:#C3E88D">redux</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">import</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178"> produce</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> }</span><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF"> from</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF"> '</span><span style="--shiki-light:#50A14F;--shiki-dark:#C3E88D">immer</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">import</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178"> useSyncExternalStoreWithSelector</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> }</span><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF"> from</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF"> '</span><span style="--shiki-light:#50A14F;--shiki-dark:#C3E88D">use-sync-external-store/with-selector</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">type</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> SliceActionCreator</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">State</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Payload</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> any</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">state</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> State</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C"> payload</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Payload</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#0184BC;--shiki-dark:#B2CCD6"> void</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">type</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> SliceSelector</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">State</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Payload</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> any</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">state</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> State</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C"> payload</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Payload</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#0184BC;--shiki-dark:#B2CCD6"> void</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">type</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Scoped</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">String</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Scope</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF"> `</span><span style="--shiki-light:#CA1243;--shiki-dark:#89DDFF">${</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">Scope</span><span style="--shiki-light:#CA1243;--shiki-dark:#89DDFF">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#C3E88D">/</span><span style="--shiki-light:#CA1243;--shiki-dark:#89DDFF">${</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">String</span><span style="--shiki-light:#CA1243;--shiki-dark:#89DDFF">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">`</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">type</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> CreateSliceProps</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  Name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  State</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Record</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6">string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> unknown</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>,</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  Actions</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Record</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6">string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> SliceActionCreator</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">State</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>>,</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  Selectors</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Record</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6">string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> SliceSelector</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">State</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>></span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">  name</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Name</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">  actions</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Actions</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">  defaultState</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> State</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">  selectors</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Selectors</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">export</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> const</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> createSlice</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> &#x3C;</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  Name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  State</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Record</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6">string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> unknown</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>,</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  Actions</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Record</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6">string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> SliceActionCreator</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">State</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>>,</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  ActionKey</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Extract</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">keyof</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Actions</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>,</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  ScopedActionType</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Scoped</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">ActionKey</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Name</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>,</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  Selectors</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Record</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6">string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> SliceSelector</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">State</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>>,</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  ActionPayload</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Parameters</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">Actions</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">ActionKey</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#986801;--shiki-dark:#F78C6C">1</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  Action</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF"> type</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> ScopedActionType</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF"> payload</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> ActionPayload</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> },</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">{</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">    name</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">    actions</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">    defaultState</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">    selectors</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  }</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> CreateSliceProps</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">Name</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> State</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Actions</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Selectors</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">=></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">  const</span><span style="--shiki-light:#986801;--shiki-dark:#F07178"> actionKeys</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> Object</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">keys</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">actions</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">) </span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">as</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> ActionKey</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">  const</span><span style="--shiki-light:#986801;--shiki-dark:#F07178"> actionTypeByActionKey</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> actionKeys</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">reduce</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">acc</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C"> action</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">    const</span><span style="--shiki-light:#986801;--shiki-dark:#F07178"> scopedActionType</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF"> `</span><span style="--shiki-light:#CA1243;--shiki-dark:#89DDFF">${</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">name</span><span style="--shiki-light:#CA1243;--shiki-dark:#89DDFF">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#C3E88D">/</span><span style="--shiki-light:#CA1243;--shiki-dark:#89DDFF">${</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">action</span><span style="--shiki-light:#CA1243;--shiki-dark:#89DDFF">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">`</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> as</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> ScopedActionType</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">    acc</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">scopedActionType</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> action</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> acc</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  },</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {}</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> as</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Record</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">ScopedActionType</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> ActionKey</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">)</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">  const</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> reducer</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">state</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> State</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> defaultState</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C"> action</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Action</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">    const</span><span style="--shiki-light:#986801;--shiki-dark:#F07178"> nextState</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> produce</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C"> draft</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">      const</span><span style="--shiki-light:#986801;--shiki-dark:#F07178"> actionType</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> actionTypeByActionKey</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">action</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#C18401;--shiki-dark:#F07178">type</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">      actions</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">actionType</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">?.</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">draft</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> as</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> State</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> action</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">payload</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">)</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">    }</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">)</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> nextState</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">  const</span><span style="--shiki-light:#986801;--shiki-dark:#F07178"> sliceActions</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> actionKeys</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">reduce</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">acc</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C"> curr</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">    acc</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">curr</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">payload</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">      const</span><span style="--shiki-light:#986801;--shiki-dark:#F07178"> scopedActionType</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF"> `</span><span style="--shiki-light:#CA1243;--shiki-dark:#89DDFF">${</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">name</span><span style="--shiki-light:#CA1243;--shiki-dark:#89DDFF">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#C3E88D">/</span><span style="--shiki-light:#CA1243;--shiki-dark:#89DDFF">${</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">curr</span><span style="--shiki-light:#CA1243;--shiki-dark:#89DDFF">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">`</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> as</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> ScopedActionType</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">      return</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">        type</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> scopedActionType</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">        payload</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">      };</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">    };</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> acc</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  },</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {}</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> as</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">    [</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">ActionKey</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> in</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Extract</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">keyof</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Actions</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> &#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">P</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Parameters</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">Actions</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">ActionKey</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#986801;--shiki-dark:#F78C6C">1</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>(</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">payload</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> P</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF"> type</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Scoped</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">ActionKey</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Name</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>,</span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF"> payload</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> P</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  }</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">)</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">    name</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">    reducer</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">    actions</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> sliceActions</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">    selectors</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> selectors</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  };</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">type</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> SliceAction</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">Type</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Payload</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> unknown</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">  type</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Type</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">  payload</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Payload</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">type</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> SimpleSlice</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">Name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> ReducerType</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Reducer</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6">any</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> any</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>></span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">  name</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Name</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">  reducer</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> ReducerType</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">type</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> TypesFromSlices</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">T</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> T</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF"> name</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> infer</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Name</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#0184BC;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF"> reducer</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Reducer</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">infer</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> State</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> infer</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Action</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> }</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[]</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">  ?</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Action</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> SliceAction</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">infer</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Type</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> infer</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Payload</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">  ?</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">    action</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> SliceAction</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">Type</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Payload</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">    state</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB"> [</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">P</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> in</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Name</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> State</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  }</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> :</span><span style="--shiki-light:#0184BC;--shiki-dark:#B2CCD6"> never</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> :</span><span style="--shiki-light:#0184BC;--shiki-dark:#B2CCD6"> never</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">export</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> const</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> configureStore</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> &#x3C;</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  Slice</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> SimpleSlice</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6">string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Reducer</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6">any</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> any</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> any</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>>,</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  State</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> TypesFromSlices</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">Slice</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#50A14F;--shiki-dark:#C3E88D">state</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  Action</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> TypesFromSlices</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">Slice</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#50A14F;--shiki-dark:#C3E88D">action</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">slices</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Slice</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[]) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">=></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">  const</span><span style="--shiki-light:#986801;--shiki-dark:#F07178"> reducersByName</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> slices</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">reduce</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">acc</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C"> current</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">    acc</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">current</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#C18401;--shiki-dark:#F07178">name</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> current</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">reducer</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> acc</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  },</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {}</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> as</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Record</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6">string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Reducer</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">)</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">  const</span><span style="--shiki-light:#986801;--shiki-dark:#F07178"> reducer</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> combineReducers</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">reducersByName</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">) </span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">as</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Reducer</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">State</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Action</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">  const</span><span style="--shiki-light:#986801;--shiki-dark:#F07178"> store</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> createStore</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">reducer</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">)</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">    store</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  };</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">export</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> const</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> createUseSelector</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> &#x3C;</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  Store</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> ReduxStore</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">  State</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> ReturnType</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">Store</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#50A14F;--shiki-dark:#C3E88D">getState</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">store</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Store</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">=></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">  const</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> useSelector</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> &#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">Selector</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> extends</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">state</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> State</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> unknown</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>(</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">selector</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Selector</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">    return</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> useSyncExternalStoreWithSelector</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">      store</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">subscribe</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">      store</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">getState</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">      store</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">getState</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">      selector</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">    ) </span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">as</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> ReturnType</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B">Selector</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> useSelector</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">};</span></span></code></pre></div></div><div class="codeSnippet text-body2 border border-gray-100 dark:border-gray-700 rounded-sm overflow-hidden language-ts shiki shiki-themes github-light github-dark" data-lang="ts"><div class="caption flex items-center gap-1 text-gray-700 dark:text-white rounded-t overflow-hidden px-4 py-2 bg-gray-100 dark:bg-[#201b31]"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="i1102642230__icon w-5" viewBox="0 0 32 32"><path fill="#007acc" d="M23.827 8.243a4.424 4.424 0 0 1 2.223 1.281 5.853 5.853 0 0 1 .852 1.143c.011.045-1.534 1.083-2.471 1.662-.034.023-.169-.124-.322-.35a2.014 2.014 0 0 0-1.67-1c-1.077-.074-1.771.49-1.766 1.433a1.3 1.3 0 0 0 .153.666c.237.49.677.784 2.059 1.383 2.544 1.095 3.636 1.817 4.31 2.843a5.158 5.158 0 0 1 .416 4.333 4.764 4.764 0 0 1-3.932 2.815 10.9 10.9 0 0 1-2.708-.028 6.531 6.531 0 0 1-3.616-1.884 6.278 6.278 0 0 1-.926-1.371 2.655 2.655 0 0 1 .327-.208c.158-.09.756-.434 1.32-.761l1.024-.6.214.312a4.771 4.771 0 0 0 1.35 1.292 3.3 3.3 0 0 0 3.458-.175 1.545 1.545 0 0 0 .2-1.974c-.276-.395-.84-.727-2.443-1.422a8.8 8.8 0 0 1-3.349-2.055 4.687 4.687 0 0 1-.976-1.777 7.116 7.116 0 0 1-.062-2.268 4.332 4.332 0 0 1 3.644-3.374 9 9 0 0 1 2.691.084m-8.343 1.483.011 1.454h-4.63v13.148H7.6V11.183H2.97V9.755a13.986 13.986 0 0 1 .04-1.466c.017-.023 2.832-.034 6.245-.028l6.211.017Z"></path></svg> store/users/slice.ts <button class="ml-auto cursor-pointer"><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" aria-hidden="true" class="i1857144300__with-icon_icon__MHUeb" data-testid="geist-icon" shape-rendering="geometricPrecision" style="color:currentcolor;width:20px;height:20px;" viewBox="0 0 24 24"><path d="M6 17a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7a2 2 0 0 1 1.732 1M11 21h7a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-7a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2Z"></path></svg></button></div><div class="pre-body flex flex-col rounded-sm overflow-hidden" tabindex="0"><pre class="shiki shiki-themes one-light aurora-x" style="--shiki-light:#383A42;--shiki-dark:#bbbbbb;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#07090F" tabindex="0"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">import</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178"> createSlice</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> }</span><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF"> from</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF"> "</span><span style="--shiki-light:#50A14F;--shiki-dark:#C3E88D">@/myReduxToolkit</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">"</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">type</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> User</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">  id</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">  username</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">  displayName</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">export</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> const</span><span style="--shiki-light:#986801;--shiki-dark:#EEFFFF"> usersSlice</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> createSlice</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">{</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">  name</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF"> '</span><span style="--shiki-light:#50A14F;--shiki-dark:#C3E88D">users</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">  defaultState</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">    userById</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {}</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> as</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Record</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6">string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> User</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">    usernameById</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {}</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> as</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> Record</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">&#x3C;</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6">string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  },</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">  actions</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">    addUser</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C"> user</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#C18401;--shiki-dark:#FFCB6B"> User</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">      state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">userById</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">user</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#C18401;--shiki-dark:#F07178">id</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> user</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">      state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">usernameById</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">user</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#C18401;--shiki-dark:#F07178">username</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> user</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">id</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">    },</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">    deleteUser</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C"> userId</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">      const</span><span style="--shiki-light:#986801;--shiki-dark:#F07178"> user</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">userById</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">userId</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">      delete</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">usernameById</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">user</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#C18401;--shiki-dark:#F07178">username</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">      delete</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178"> state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">userById</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#F07178">userId</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  },</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#BBBBBB">  selectors</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">    selectUserByUsername</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C"> username</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA">:</span><span style="--shiki-light:#0184BC;--shiki-dark:#B2CCD6"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF"> state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#EEFFFF">userById</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#C18401;--shiki-dark:#EEFFFF">usernameById</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">[</span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">username</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">]]</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">    selectAllUsers</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">)</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF"> Object</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">values</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#EEFFFF">userById</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">)</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">}</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">)</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span></code></pre></div></div><div class="codeSnippet text-body2 border border-gray-100 dark:border-gray-700 rounded-sm overflow-hidden language-ts shiki shiki-themes github-light github-dark" data-lang="ts"><div class="caption flex items-center gap-1 text-gray-700 dark:text-white rounded-t overflow-hidden px-4 py-2 bg-gray-100 dark:bg-[#201b31]"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="i1102642230__icon w-5" viewBox="0 0 32 32"><path fill="#007acc" d="M23.827 8.243a4.424 4.424 0 0 1 2.223 1.281 5.853 5.853 0 0 1 .852 1.143c.011.045-1.534 1.083-2.471 1.662-.034.023-.169-.124-.322-.35a2.014 2.014 0 0 0-1.67-1c-1.077-.074-1.771.49-1.766 1.433a1.3 1.3 0 0 0 .153.666c.237.49.677.784 2.059 1.383 2.544 1.095 3.636 1.817 4.31 2.843a5.158 5.158 0 0 1 .416 4.333 4.764 4.764 0 0 1-3.932 2.815 10.9 10.9 0 0 1-2.708-.028 6.531 6.531 0 0 1-3.616-1.884 6.278 6.278 0 0 1-.926-1.371 2.655 2.655 0 0 1 .327-.208c.158-.09.756-.434 1.32-.761l1.024-.6.214.312a4.771 4.771 0 0 0 1.35 1.292 3.3 3.3 0 0 0 3.458-.175 1.545 1.545 0 0 0 .2-1.974c-.276-.395-.84-.727-2.443-1.422a8.8 8.8 0 0 1-3.349-2.055 4.687 4.687 0 0 1-.976-1.777 7.116 7.116 0 0 1-.062-2.268 4.332 4.332 0 0 1 3.644-3.374 9 9 0 0 1 2.691.084m-8.343 1.483.011 1.454h-4.63v13.148H7.6V11.183H2.97V9.755a13.986 13.986 0 0 1 .04-1.466c.017-.023 2.832-.034 6.245-.028l6.211.017Z"></path></svg> store/index.ts <button class="ml-auto cursor-pointer"><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" aria-hidden="true" class="i1857144300__with-icon_icon__MHUeb" data-testid="geist-icon" shape-rendering="geometricPrecision" style="color:currentcolor;width:20px;height:20px;" viewBox="0 0 24 24"><path d="M6 17a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7a2 2 0 0 1 1.732 1M11 21h7a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-7a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2Z"></path></svg></button></div><div class="pre-body flex flex-col rounded-sm overflow-hidden" tabindex="0"><pre class="shiki shiki-themes one-light aurora-x" style="--shiki-light:#383A42;--shiki-dark:#bbbbbb;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#07090F" tabindex="0"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">import</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178"> configureStore</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">,</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178"> createUseSelector</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> }</span><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF"> from</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF"> '</span><span style="--shiki-light:#50A14F;--shiki-dark:#C3E88D">@/myReduxToolkit</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">import</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178"> usersSlice</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> }</span><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF"> from</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF"> '</span><span style="--shiki-light:#50A14F;--shiki-dark:#C3E88D">./users/slice</span><span style="--shiki-light:#50A14F;--shiki-dark:#89DDFF">'</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">export</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> const</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span><span style="--shiki-light:#986801;--shiki-dark:#EEFFFF"> store</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> }</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> configureStore</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">([</span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">usersSlice</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">])</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">export</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> const</span><span style="--shiki-light:#986801;--shiki-dark:#EEFFFF"> useSelector</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> createUseSelector</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#EEFFFF">store</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">)</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span></code></pre></div></div><div class="codeSnippet text-body2 border border-gray-100 dark:border-gray-700 rounded-sm overflow-hidden language-tsx shiki shiki-themes github-light github-dark" data-lang="tsx"><div class="caption flex items-center gap-1 text-gray-700 dark:text-white rounded-t overflow-hidden px-4 py-2 bg-gray-100 dark:bg-[#201b31]"><svg xmlns="http://www.w3.org/2000/svg" fill="#26A2C1" class="i-848254956__FileName-icon-i4M61 w-5" viewBox="0 0 16 16"><path d="M16 8c0-1.06-1.32-2.06-3.36-2.68.46-2.08.26-3.72-.66-4.26a1.5 1.5 0 0 0-.74-.18v.72c.16 0 .28.02.38.08.44.26.64 1.22.48 2.46l-.16.96a15.5 15.5 0 0 0-2.08-.36c-.44-.6-.9-1.16-1.36-1.64 1.08-.96 2.08-1.5 2.76-1.5V.88c-.9 0-2.08.64-3.26 1.74C6.8 1.52 5.64.88 4.74.88v.72c.68 0 1.68.54 2.74 1.52-.46.48-.92 1.02-1.34 1.62-.74.08-1.44.2-2.08.36a5.44 5.44 0 0 1-.16-.94c-.16-1.24.04-2.22.48-2.48.1-.06.22-.08.38-.08V.9c-.28 0-.52.06-.74.18-.92.52-1.12 2.18-.64 4.24C1.32 5.94 0 6.94 0 8s1.32 2.06 3.36 2.68c-.46 2.08-.26 3.72.66 4.26.22.12.46.18.74.18.9 0 2.08-.64 3.26-1.74 1.18 1.1 2.36 1.74 3.26 1.74.28 0 .52-.06.74-.18.92-.52 1.12-2.18.64-4.24C14.68 10.06 16 9.06 16 8zm-4.24-2.18c-.12.42-.28.86-.44 1.28l-.42-.78c-.16-.26-.3-.52-.46-.76.44.08.88.16 1.32.26zm-1.5 3.48c-.26.44-.52.86-.78 1.24a17.94 17.94 0 0 1-2.94 0A16.05 16.05 0 0 1 5.08 8a16.05 16.05 0 0 1 1.46-2.54 17.94 17.94 0 0 1 2.94 0A16.05 16.05 0 0 1 10.94 8c-.2.44-.44.88-.68 1.3zm1.06-.42c.18.44.32.88.46 1.3-.42.1-.88.2-1.34.26.16-.26.32-.5.46-.78l.42-.78zM8 12.36c-.3-.32-.6-.66-.9-1.04.3.02.6.02.9.02.3 0 .6 0 .9-.02-.28.38-.6.72-.9 1.04zm-2.42-1.92c-.46-.06-.9-.16-1.34-.26.12-.42.28-.86.44-1.28l.42.78.48.76zM8 3.64c.3.32.6.66.9 1.04-.3-.02-.6-.02-.9-.02-.3 0-.6 0-.9.02.28-.38.6-.72.9-1.04zM5.58 5.56c-.16.26-.32.5-.46.78-.16.26-.3.52-.42.78-.18-.44-.32-.88-.46-1.3.42-.1.88-.18 1.34-.26zm-2.96 4.1C1.46 9.16.72 8.52.72 8s.74-1.16 1.9-1.66c.28-.12.58-.22.9-.32.18.64.44 1.3.74 1.98-.3.68-.54 1.34-.72 1.98-.32-.1-.62-.2-.92-.32zm1.76 4.66c-.44-.26-.64-1.22-.48-2.46l.16-.96c.64.16 1.34.28 2.08.36.44.6.9 1.16 1.36 1.64-1.08.96-2.08 1.5-2.74 1.5a.98.98 0 0 1-.38-.08zm7.74-2.5c.16 1.24-.04 2.22-.48 2.48a.72.72 0 0 1-.38.08c-.68 0-1.68-.54-2.74-1.52.46-.48.92-1.02 1.34-1.62.74-.08 1.44-.2 2.08-.36.08.32.14.64.18.94zm1.26-2.16c-.28.12-.58.22-.9.32-.18-.64-.44-1.3-.74-1.98.3-.68.54-1.34.72-1.98.32.1.62.22.92.34 1.16.5 1.9 1.14 1.9 1.66 0 .5-.76 1.14-1.9 1.64zM8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"></path></svg> components/SomeComponent.tsx <button class="ml-auto cursor-pointer"><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" aria-hidden="true" class="i1857144300__with-icon_icon__MHUeb" data-testid="geist-icon" shape-rendering="geometricPrecision" style="color:currentcolor;width:20px;height:20px;" viewBox="0 0 24 24"><path d="M6 17a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7a2 2 0 0 1 1.732 1M11 21h7a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-7a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2Z"></path></svg></button></div><div class="pre-body flex flex-col rounded-sm overflow-hidden" tabindex="0"><pre class="shiki shiki-themes one-light aurora-x" style="--shiki-light:#383A42;--shiki-dark:#bbbbbb;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#07090F" tabindex="0"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">const</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> Test</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> ()</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">  const</span><span style="--shiki-light:#986801;--shiki-dark:#F07178"> allUsers</span><span style="--shiki-light:#0184BC;--shiki-dark:#C792EA"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> useSelector</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">state</span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA"> =></span><span style="--shiki-light:#E45649;--shiki-dark:#F07178"> usersSlice</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">selectors</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">selectAllUsers</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">state</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">users</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">))</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#F07178">  console</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">log</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">(</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">{</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#F07178">    allUsers</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  }</span><span style="--shiki-light:#383A42;--shiki-dark:#BBBBBB">)</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#89DDFF">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> &#x3C;</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">div</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">    &#x3C;</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">button</span><span style="--shiki-light:#986801;--shiki-dark:#C792EA"> onClick</span><span style="--shiki-light:#383A42;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">{() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">=></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#F07178">      console</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">log</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">usersSlice</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">actions</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">);</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#F07178">      store</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">dispatch</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">usersSlice</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">actions</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">addUser</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">({</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">        displayName</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> String</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">Math</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">random</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">()),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">        id</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> String</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">Math</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">random</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">()),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">        username</span><span style="--shiki-light:#0184BC;--shiki-dark:#89DDFF">:</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF"> String</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">Math</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">random</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">()),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">      }));</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#F07178">      console</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">log</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">(</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">store</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">getState</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">());</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">    }}>Add new user&#x3C;/</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">button</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#CA1243;--shiki-dark:#89DDFF">    {</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">allUsers</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#82AAFF">map</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">((</span><span style="--shiki-light:#383A42;--shiki-dark:#F78C6C">user</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C792EA">=></span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF"> &#x3C;</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">div</span><span style="--shiki-light:#986801;--shiki-dark:#C792EA"> key</span><span style="--shiki-light:#383A42;--shiki-dark:#C792EA">=</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">{</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">user</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">username</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">}></span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">      &#x3C;</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">p</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>{</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">user</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">displayName</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">}&#x3C;/</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">p</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">      &#x3C;</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">p</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>@{</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">user</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">.</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">username</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">}&#x3C;/</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">p</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">></span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">    &#x3C;/</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">div</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>)</span><span style="--shiki-light:#CA1243;--shiki-dark:#89DDFF">}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">  &#x3C;/</span><span style="--shiki-light:#E45649;--shiki-dark:#F07178">div</span><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">>;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#89DDFF">};</span></span></code></pre></div></div><style>html pre.shiki code .szBVR, html code.shiki .szBVR{--shiki-default:#D73A49;--shiki-dark:#F97583}html pre.shiki code .sScJk, html code.shiki .sScJk{--shiki-default:#6F42C1;--shiki-dark:#B392F0}html pre.shiki code .sVt8B, html code.shiki .sVt8B{--shiki-default:#24292E;--shiki-dark:#E1E4E8}html pre.shiki code .s4XuR, html code.shiki .s4XuR{--shiki-default:#E36209;--shiki-dark:#FFAB70}html pre.shiki code .sj4cs, html code.shiki .sj4cs{--shiki-default:#005CC5;--shiki-dark:#79B8FF}html pre.shiki code .sZZnC, html code.shiki .sZZnC{--shiki-default:#032F62;--shiki-dark:#9ECBFF}html pre.shiki code .sJ8bj, html code.shiki .sJ8bj{--shiki-default:#6A737D;--shiki-dark:#6A737D}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .s9eBZ, html code.shiki .s9eBZ{--shiki-default:#22863A;--shiki-dark:#85E89D}</style></div><div class="flex justify-between mt-14"><a href="/blog/advanced-css" class=""> ← Шпаргалка по CSS</a><a href="/blog/js-built-in-methods" class="">Шпаргалка по built-in методам → </a></div><!--]--></div></div></div></div><!--]--></main><footer class="w-full max-w-[calc(1180px+2rem)] mx-auto p-4 pt-8 mt-auto flex justify-between sm:items-center flex-col sm:flex-row gap-3"><a href="/" class="font-fira text-md">&lt;/Zhenya&gt;</a><span class="text-body2 text-secondary">Made with ❤️ by me. Designed by <a href="https://arina.pw/" target="_blank" rel="noreferrer">@rina</a>.</span><span class="text-neutral text-body2">© Трофимов Евгений, 2024</span></footer><!--]--><!--]--></body><div id="teleports"></div><script type="application/json" data-nuxt-data="nuxt-app" data-ssr="true" id="__NUXT_DATA__" data-src="/blog/implementing-own-redux-toolkit/_payload.json?74bfdd1b-0f90-4a56-aec7-80d5a84b45a5">[{"state":1,"once":3,"_errors":4,"serverRendered":7,"path":8,"pinia":9,"prerenderedAt":10},["Reactive",2],{},["Set"],["ShallowReactive",5],{"post_/blog/implementing-own-redux-toolkit":6,"surround/blog/implementing-own-redux-toolkit":6},null,true,"/blog/implementing-own-redux-toolkit",{},1751114697168]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{content:{wsUrl:""},mdc:{components:{prose:true,map:{}},headings:{anchorLinks:{h1:false,h2:true,h3:true,h4:true,h5:false,h6:false}}}},app:{baseURL:"/",buildId:"74bfdd1b-0f90-4a56-aec7-80d5a84b45a5",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>