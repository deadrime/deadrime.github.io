(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[730],{3126:(e,t,r)=>{"use strict";r.d(t,{TableOfContent:()=>c});var n=r(5155),l=r(2115),o=r(9300),i=r.n(o);let s=(e,t,r)=>{let n=(0,l.useRef)({tmpProps:[]});return(0,l.useEffect)(()=>{let e=n.current.timeoutId;return()=>{e&&clearTimeout(e)}},[n]),(0,l.useCallback)(function(){for(var t=arguments.length,l=Array(t),o=0;o<t;o++)l[o]=arguments[o];n.current.tmpProps=l,n.current.timeoutId||(n.current.timeoutId=setTimeout(()=>{n.current.timeoutId=void 0,e(...n.current.tmpProps)},r))},t)};var d=r(1934);let a=e=>{let t=[],r=e=>{t.push(e),e.children&&e.children.forEach(r)};return e.forEach(r),t},u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,[r,n]=l.useState(""),o=(0,l.useCallback)(()=>{let l=a(e).map(e=>{let{id:t}=e,r=document.getElementById(t);return{id:t,box:r?.getBoundingClientRect()}}),o=(l=l.filter(e=>!!e.box)).find(e=>{let{box:r}=e;return r.bottom>0&&r.bottom<t&&r.bottom<=window.innerHeight});o||(o=l.toReversed().find(e=>{let{box:r}=e;return r.bottom<t})),o?o.id!==r&&n(o.id):n("")},[r,e,t]),i=s(o,[o],100);return(0,l.useEffect)(()=>{e.length>0&&o()},[o,e]),(0,l.useEffect)(()=>{if(e.length)return window.addEventListener("scroll",i),()=>{window.removeEventListener("scroll",i)}},[i,e,t]),r},c=e=>{let{toc:t}=e,r=u(t);return 0===t.length?null:(0,n.jsxs)("div",{className:"mt-4 mb-4",children:[(0,n.jsx)("span",{className:"block mb-3 font-semibold text-lg md:text-body2",children:"СОДЕРЖАНИЕ"}),(0,n.jsx)(m,{items:t,activeHeadingId:r,className:"[&*>li]:-ml-px [&*>li>*:not(ol)]:pl-3"})]})},m=e=>{let{items:t,activeHeadingId:r,className:o,inner:s}=e,[a,u]=(0,l.useState)({top:0,height:0}),c=(0,l.useRef)(null),h=(0,l.useCallback)(()=>{if(!c.current)return;if(!r)return void u(e=>{let{height:t}=e;return{top:t/2,height:0}});let e=c.current.querySelector(`a[href="#${r}"]`);if(!e)return;let{top:t}=e.getBoundingClientRect(),{top:n}=c.current.getBoundingClientRect();u({top:t-n,height:e.clientHeight})},[r,c]);return(0,l.useEffect)(()=>{h()},[h,r]),(0,n.jsxs)("ol",{ref:c,className:i()("flex flex-col gap-3 relative [&*>li]:-ml-px [&*>li>*:not(ol)]:pl-3 border-l-2 border-gray-200/30 dark:border-gray-600/50",{"border-none ml-3":s},o),children:[!s&&(0,n.jsx)(d.P.div,{className:"absolute w-[2px] left-0 bg-primary rounded-[2px] -translate-x-[2px]",animate:{top:a.top,height:a.height},transition:{duration:.3,delay:0,ease:"easeOut"}}),t.map(e=>(0,n.jsxs)("li",{className:i()("flex flex-col gap-3 relative"),children:[(0,n.jsx)("a",{href:`#${e.id}`,className:i()("text-body2 border-l-2 border-transparent",{"text-text":r!==e.id,"text-primary":r===e.id}),children:e.text}),e.children?.length>0&&(0,n.jsx)(m,{inner:!0,items:e.children,activeHeadingId:r})]},e.id))]})}},3957:(e,t,r)=>{Promise.resolve().then(r.bind(r,161)),Promise.resolve().then(r.t.bind(r,5038,23)),Promise.resolve().then(r.t.bind(r,6641,23)),Promise.resolve().then(r.bind(r,1845)),Promise.resolve().then(r.bind(r,3126)),Promise.resolve().then(r.bind(r,8902)),Promise.resolve().then(r.bind(r,7548)),Promise.resolve().then(r.t.bind(r,6874,23)),Promise.resolve().then(r.t.bind(r,3063,23))},5038:e=>{e.exports={blockquote:"Blockquote_blockquote__nieFO"}},6641:e=>{e.exports={blogContent:"styles_blogContent__54hPI"}}},e=>{var t=t=>e(e.s=t);e.O(0,[996,610,874,934,557,441,684,358],()=>t(3957)),_N_E=e.O()}]);