(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[206],{9185:function(e,t,n){Promise.resolve().then(n.t.bind(n,9608,23)),Promise.resolve().then(n.bind(n,9327)),Promise.resolve().then(n.bind(n,3961)),Promise.resolve().then(n.bind(n,7457)),Promise.resolve().then(n.bind(n,1202)),Promise.resolve().then(n.bind(n,877)),Promise.resolve().then(n.t.bind(n,1749,23)),Promise.resolve().then(n.t.bind(n,5250,23))},877:function(e,t,n){"use strict";n.r(t),n.d(t,{TableOfContent:function(){return m}});var r=n(3827),i=n(4090),l=n(6663),o=n.n(l),s=n(6480),d=n.n(s);let u=(e,t,n)=>{let r=(0,i.useRef)({tmpProps:[]});return(0,i.useEffect)(()=>{let e=r.current.timeoutId;return()=>{e&&clearTimeout(e)}},[r]),(0,i.useCallback)(function(){for(var t=arguments.length,i=Array(t),l=0;l<t;l++)i[l]=arguments[l];r.current.tmpProps=i,r.current.timeoutId||(r.current.timeoutId=setTimeout(()=>{r.current.timeoutId=void 0,e(...r.current.tmpProps)},n))},t)},c=e=>e.reduce((e,t)=>(2===t.level?e.push({...t,children:[]}):e.toReversed().find(e=>e.level<t.level).children.push({...t,children:[]}),e),[]),a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,[n,r]=i.useState(""),l=(0,i.useCallback)(()=>{let i=e.map(e=>{let{id:t,element:n}=e;return{id:t,box:n.getBoundingClientRect()}}),l=(i=i.filter(e=>!!e)).find(e=>{let{box:n}=e;return n.bottom>0&&n.bottom<t&&n.bottom<=window.innerHeight});l||(l=i.toReversed().find(e=>{let{box:n}=e;return n.bottom<t})),l?l.id!==n&&r(l.id):r("")},[n,e,t]),o=u(l,[l],100);return(0,i.useEffect)(()=>{e.length>0&&l()},[e]),(0,i.useEffect)(()=>{if(e.length)return window.addEventListener("scroll",o),()=>{window.removeEventListener("scroll",o)}},[n,o,e,t]),n},m=e=>{let{contentId:t}=e,[n,l]=(0,i.useState)([]),o=a(n);(0,i.useEffect)(()=>{let e=document.getElementById(t);e&&l(Array.from(e.querySelectorAll("h2, h3, h4")).map(e=>{var t,n;return{id:e.id||(null===(n=e.querySelector("a[href]"))||void 0===n?void 0:null===(t=n.getAttribute("href"))||void 0===t?void 0:t.substring(1))||e.innerText,text:e.innerText,level:Number(e.nodeName.charAt(1)),element:e}}))},[t]);let s=(0,i.useMemo)(()=>c(n),[n]);return(0,r.jsxs)("div",{className:"mt-4 mb-4",children:[(0,r.jsx)("span",{className:"block mb-3 font-semibold text-lg md:text-body2",children:"СОДЕРЖАНИЕ"}),(0,r.jsx)(h,{items:s,activeHeadingId:o})]})},h=e=>{let{items:t,activeHeadingId:n,inner:i}=e;return(0,r.jsx)("ol",{className:d()(o().headingList,"flex flex-col gap-3"),children:t.map(e=>{var t;return(0,r.jsxs)("li",{className:"flex flex-col gap-3",children:[(0,r.jsx)("a",{href:"#".concat(e.id),className:d()("text-body2",{"text-primary":n===e.id,"text-text":n!==e.id}),children:e.text}),(null===(t=e.children)||void 0===t?void 0:t.length)>0&&(0,r.jsx)(h,{items:e.children,activeHeadingId:n,inner:!0})]},e.id)})})}},9608:function(e){e.exports={blogContent:"styles_blogContent__54hPI"}},6663:function(e){e.exports={headingList:"TableOfContent_headingList___0735"}}},function(e){e.O(0,[911,986,250,823,971,69,744],function(){return e(e.s=9185)}),_N_E=e.O()}]);