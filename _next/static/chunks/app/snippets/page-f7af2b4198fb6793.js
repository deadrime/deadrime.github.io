(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{9805:function(e,t,r){Promise.resolve().then(r.bind(r,9087)),Promise.resolve().then(r.bind(r,9327)),Promise.resolve().then(r.bind(r,9466)),Promise.resolve().then(r.bind(r,4001)),Promise.resolve().then(r.bind(r,9957)),Promise.resolve().then(r.bind(r,3961)),Promise.resolve().then(r.bind(r,7457)),Promise.resolve().then(r.bind(r,1890)),Promise.resolve().then(r.bind(r,8446)),Promise.resolve().then(r.t.bind(r,8718,23)),Promise.resolve().then(r.bind(r,943)),Promise.resolve().then(r.bind(r,378)),Promise.resolve().then(r.bind(r,3340)),Promise.resolve().then(r.t.bind(r,1749,23))},3340:function(e,t,r){"use strict";r.r(t),r.d(t,{SnippetsSearch:function(){return d}});var n=r(3827),l=r(6423),s=r(5250),i=r.n(s),o=r(6480),u=r.n(o),a=r(4090),c=e=>{var t;let{as:r,children:l,size:s="normal",variant:i,icon:o,className:c,...f}=e;return(0,n.jsxs)(r||"span",{className:u()(c,"rounded-3xl text-secondary inline-flex items-center text-body2 transition-colors focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:rounded-3xl","small"===s&&"px-3 py-[3px]","normal"===s&&"px-3 py-[6px]",o&&"pl-[5px]!","filled"===i&&"bg-details/50","outlined"===i&&"border-2 border-details bg-transparent hover:border-transparent hover:bg-details hover:text-text focus-visible:bg-details focus-visible:border-transparent focus-visible:text-text"),...f,children:[o&&a.cloneElement(o,{height:22,width:22,className:u()("mr-[5px]",null===(t=o.props)||void 0===t?void 0:t.className)}),l]})};let f=e=>{let{snippet:t,titleHighlightRanges:r,descriptionHighlightRanges:s}=e;return(0,n.jsxs)(i(),{href:"/snippets/".concat(t.slug),className:"group text-balance flex flex-col gap-2 focus-visible:ring-transparent",children:[(0,n.jsx)("span",{className:"text-body1 text-primary self-start group-focus-within:underline underline-offset-6",children:(0,n.jsx)(l.Highlight,{className:"bg-primary/40",style:{color:"hsl(from var(--color-primary) calc(h + 5) s l)"},text:t.title,ranges:r})}),(0,n.jsx)("span",{className:"text-body2 text-text",children:(0,n.jsx)(l.Highlight,{className:"bg-primary/40",style:{},text:t.description,ranges:s})}),(0,n.jsx)("div",{className:"flex gap-1",children:t.topics.map(e=>(0,n.jsx)(c,{variant:"outlined",size:"small",className:"pointer-events-none capitalize",children:e},e))})]})},p=e=>{let{className:t,...r}=e;return(0,n.jsx)("input",{className:u()(t,"border-gray-600 p-2 text-text bg-gray-50 dark:bg-gray-800 rounded-md outline-none"),...r})},d=e=>{let{snippets:t}=e,[r,s]=(0,a.useState)(""),[i,o]=(0,a.useState)("");!function(e,t,r){let{reset:n,clear:l}=function(e,t){let r=(0,a.useRef)(e),n=(0,a.useRef)();(0,a.useEffect)(()=>{r.current=e},[e]);let l=(0,a.useCallback)(()=>{n.current=setTimeout(()=>r.current(),t)},[t]),s=(0,a.useCallback)(()=>{n.current&&clearTimeout(n.current)},[]);return(0,a.useEffect)(()=>(l(),s),[t,l,s]),{reset:(0,a.useCallback)(()=>{s(),l()},[s,l]),clear:s}}(e,200);(0,a.useEffect)(n,[...r,n]),(0,a.useEffect)(l,[])}(()=>{o(r)},0,[r]);let u=(0,l.useFuzzySearchList)({list:t,queryText:i,getText:e=>[e.title,e.description],mapResultItem:e=>{let{item:t,score:r,matches:[n,l]}=e;return{item:t,titleHighlightRanges:n,descriptionHighlightRanges:l}}}),c=i.length>0&&0===u.length;return(0,n.jsxs)("div",{children:[(0,n.jsx)(p,{value:r,placeholder:"Поиск...",onChange:e=>s(e.target.value),className:"mb-6"}),c&&(0,n.jsx)("div",{children:"Ничего не найдено"}),(0,n.jsx)("div",{className:"flex flex-col gap-3 w-max",children:u.map(e=>{let{item:t,titleHighlightRanges:r,descriptionHighlightRanges:l}=e;return(0,n.jsx)(f,{snippet:t,titleHighlightRanges:r,descriptionHighlightRanges:l},t.slug)})})]})}},6339:function(e,t,r){"use strict";t.N6=function(e,t){var r=t.strategy,n=void 0===r?"aggressive":r,o=t.getText,u=e.map(function(e){if(o)r=o(e);else{var r;r=[t.key?e[t.key]:e]}return[e,r.map(function(e){var t=e||"",r=(0,l.default)(t),n=new Set(r.split(" "));return[t,r,n]})]});return function(e){var t=[],r=(0,l.default)(e),o=r.split(" ");return r.length?(u.forEach(function(l){for(var i=l[0],u=l[1],c=s,f=[],p=0,d=u.length;p<d;p+=1){var h=u[p],m=a(h[0],h[1],h[2],e,r,o,n);m?(c=Math.min(c,m[0]),f.push(m[1])):f.push(null)}c<s&&t.push({item:i,score:c,matches:f})}),t.sort(i),t):[]}},t.Cl=function(e,t){var r=(0,l.default)(t),n=r.split(" "),s=(0,l.default)(e),i=new Set(s.split(" ")),o=a(e,s,i,t,r,n,"smart");return o?{item:e,score:o[0],matches:[o[1]]}:null};var n,l=(n=r(2996))&&n.__esModule?n:{default:n},s=Number.MAX_SAFE_INTEGER,i=function(e,t){return e.score-t.score},o=function(e,t){return e[0]-t[0]},u=new Set(" \xa0[]()-–—'\"“”".split(""));function a(e,t,r,n,l,s,i){if(e===n)return[0,[[0,e.length-1]]];var a,f,p=n.length,d=t.length,h=l.length;if(t===l)return[.1,[[0,d-1]]];if(t.startsWith(l))return[.5,[[0,h-1]]];var m=e.indexOf(n);if(m>-1&&(a=e[m-1],u.has(a)))return[.9,[[m,m+p-1]]];var g=t.indexOf(l);if(g>-1&&(f=t[g-1],u.has(f)))return[1,[[g,g+p-1]]];var v=s.length;return v>1&&s.every(function(e){return r.has(e)})?[1.5+.2*v,s.map(function(e){var r=t.indexOf(e);return[r,r+e.length-1]}).sort(o)]:g>-1?[2,[[g,g+p-1]]]:"aggressive"===i?function(e,t){for(var r=e.length,n=t.length,l=0,s=t[0],i=[],o=-1,u=-2,a=0;a<r;a+=1)if(e[a]===s){if(a!==u+1&&(o>=0&&i.push([o,u]),o=a),u=a,(l+=1)===n)return i.push([o,u]),c(i,e);s=t[l]}return null}(t,l):"smart"===i?function(e,t){for(var r=e.length,n=[],l=0,s=t[0],i=-1,o=-2;;){var a,f=e.indexOf(s,o+1);if(-1===f)break;if(0===f||(a=e[f-1],u.has(a)))i=f;else{var p=Math.min(3,t.length-l,e.length-f),d=t.slice(l,l+p);if(e.slice(f,f+p)===d)i=f;else{o+=1;continue}}for(o=i;o<r&&e[o]===s;o+=1)l+=1,s=t[l];if(o-=1,n.push([i,o]),l===t.length)return c(n,e)}return null}(t,l):null}function c(e,t){var r=2;return e.forEach(function(e){var n=e[0],l=e[1],s=0===n||" "===t[n]||" "===t[n-1],i=l===t.length-1||" "===t[l]||" "===t[l+1];s&&i?r+=.2:s?r+=.4:l-n+1>=3?r+=.8:r+=1.6}),[r,e]}},2347:function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){return void 0===t&&(t={}),r(6339).N6(e,t)},t.fuzzyMatch=function(e,t){return r(6339).Cl(e,t)};var n,l=(n=r(2996))&&n.__esModule?n:{default:n};t.normalizeText=l.default},2996:function(e,t){"use strict";t.__esModule=!0,t.default=function(e){return e.toLowerCase().normalize("NFD").replace(r,"").replace(n,"l").replace(l,"n").trim()};var r=/[\u0300-\u036f]/g,n=/ł/g,l=/ñ/g},9996:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.__esModule=!0,t.createHighlightComponent=function(e,t){var r=function(r){var n=r.style,l=r.className,s=function(e,t){if(null==e)return{};var r,n,l={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(l[r]=e[r]);return l}(r,i);return f(u({},s,{style:null!=n?n:e,className:null!=l?l:t}))};return r.FullSelection=a,r};var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var l={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=s?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(l,i,u):l[i]=e[i]}return l.default=e,r&&r.set(e,l),l}(r(4090)),s=r(8127),i=["style","className"];function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var a=[[0,Number.MAX_VALUE]],c={backgroundColor:"rgba(245,220,0,.25)"},f=function(e){var t=e.text,r=e.ranges,n=e.style,i=e.className;if(!r)return t;var o=0,u=[];return r.forEach(function(e){var r=e[0],a=e[1];if(r<o||a<r){console.warn("Broken range in <Highlight>: "+r+"-"+a+", last: "+o);return}r>o&&u.push(l.default.createElement(l.Fragment,{key:"t"+o+"-"+r},t.slice(o,r))),u.push(l.default.createElement(s.TextElement,{style:null!=n?n:c,className:i,key:r+"-"+a},t.slice(r,a+1))),o=a+1}),t.length>o&&u.push(l.default.createElement(l.Fragment,{key:"last"},t.slice(o,t.length))),u},p=Object.assign((0,l.memo)(f),{FullSelection:a});t.default=p},8127:function(e,t){"use strict";t.__esModule=!0,t.TextElement="span"},8491:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.__esModule=!0;var l,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var l={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=s?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(l,i,u):l[i]=e[i]}return l.default=e,r&&r.set(e,l),l}(r(9996));t.Highlight=s.default,t.createHighlightComponent=s.createHighlightComponent;var i=(l=r(414))&&l.__esModule?l:{default:l};function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}t.useFuzzySearchList=i.default},414:function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){var t=e.list,r=e.key,s=e.getText,i=e.queryText,o=e.mapResultItem,u=e.strategy,a=n.default.useMemo(function(){return(0,l.default)(t,{key:r,getText:s,strategy:u})},[t,r,s,u]);return n.default.useMemo(function(){return i?a(i).map(o):t.map(function(e){return o({item:e,score:Number.POSITIVE_INFINITY,matches:[]})})},[t,o,a,i])};var n=s(r(4090)),l=s(r(2347));function s(e){return e&&e.__esModule?e:{default:e}}},6423:function(e,t,r){"use strict";let{Highlight:n,createHighlightComponent:l,useFuzzySearchList:s}=r(8491);e.exports={Highlight:n,createHighlightComponent:l,useFuzzySearchList:s}},8718:function(e){e.exports={blockquote:"Blockquote_blockquote__nieFO"}}},function(e){e.O(0,[911,252,250,873,971,69,744],function(){return e(e.s=9805)}),_N_E=e.O()}]);