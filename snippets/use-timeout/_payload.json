[{"data":1,"prerenderedAt":735},["ShallowReactive",2],{"snipper/snippets/use-timeout":3,"post_/snippets/use-timeout":435},{"id":4,"title":5,"body":6,"date":423,"description":424,"extension":425,"meta":426,"navigation":47,"path":427,"seo":428,"stem":429,"topics":430,"__hash__":434},"snippets/snippets/use-timeout.mdx","useTimeout",{"type":7,"value":8,"toc":421},"minimark",[9,417],[10,11,16],"pre",{"className":12,"code":13,"language":14,"meta":15,"style":15},"language-ts shiki shiki-themes github-light github-dark","import { useCallback, useEffect, useRef } from \"react\";\n\nexport default function useTimeout\u003CCb extends (...args: never[]) => unknown>(callback: Cb, delay: number) {\n  const callbackRef = useRef(callback);\n  const timeoutRef = useRef\u003CNodeJS.Timeout>();\n\n  useEffect(() => {\n    callbackRef.current = callback;\n  }, [callback]);\n\n  const set = useCallback(() => {\n    timeoutRef.current = setTimeout(() => callbackRef.current(), delay);\n  }, [delay]);\n\n  const clear = useCallback(() => {\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n  }, []);\n\n  useEffect(() => {\n    set();\n    return clear;\n  }, [delay, set, clear]);\n\n  const reset = useCallback(() => {\n    clear();\n    set();\n  }, [clear, set]);\n\n  return { reset, clear };\n}\n\n","ts","",[17,18,19,42,49,125,143,169,174,188,200,206,211,230,254,260,265,283,292,301,307,313,318,329,338,347,353,358,376,384,391,397,402,411],"code",{"__ignoreMap":15},[20,21,24,28,32,35,39],"span",{"class":22,"line":23},"line",1,[20,25,27],{"class":26},"szBVR","import",[20,29,31],{"class":30},"sVt8B"," { useCallback, useEffect, useRef } ",[20,33,34],{"class":26},"from",[20,36,38],{"class":37},"sZZnC"," \"react\"",[20,40,41],{"class":30},";\n",[20,43,45],{"class":22,"line":44},2,[20,46,48],{"emptyLinePlaceholder":47},true,"\n",[20,50,52,55,58,61,65,68,71,74,77,80,84,87,91,94,97,100,103,106,108,111,114,117,119,122],{"class":22,"line":51},3,[20,53,54],{"class":26},"export",[20,56,57],{"class":26}," default",[20,59,60],{"class":26}," function",[20,62,64],{"class":63},"sScJk"," useTimeout",[20,66,67],{"class":30},"\u003C",[20,69,70],{"class":63},"Cb",[20,72,73],{"class":26}," extends",[20,75,76],{"class":30}," (",[20,78,79],{"class":26},"...",[20,81,83],{"class":82},"s4XuR","args",[20,85,86],{"class":26},":",[20,88,90],{"class":89},"sj4cs"," never",[20,92,93],{"class":30},"[]) ",[20,95,96],{"class":26},"=>",[20,98,99],{"class":89}," unknown",[20,101,102],{"class":30},">(",[20,104,105],{"class":82},"callback",[20,107,86],{"class":26},[20,109,110],{"class":63}," Cb",[20,112,113],{"class":30},", ",[20,115,116],{"class":82},"delay",[20,118,86],{"class":26},[20,120,121],{"class":89}," number",[20,123,124],{"class":30},") {\n",[20,126,128,131,134,137,140],{"class":22,"line":127},4,[20,129,130],{"class":26},"  const",[20,132,133],{"class":89}," callbackRef",[20,135,136],{"class":26}," =",[20,138,139],{"class":63}," useRef",[20,141,142],{"class":30},"(callback);\n",[20,144,146,148,151,153,155,157,160,163,166],{"class":22,"line":145},5,[20,147,130],{"class":26},[20,149,150],{"class":89}," timeoutRef",[20,152,136],{"class":26},[20,154,139],{"class":63},[20,156,67],{"class":30},[20,158,159],{"class":63},"NodeJS",[20,161,162],{"class":30},".",[20,164,165],{"class":63},"Timeout",[20,167,168],{"class":30},">();\n",[20,170,172],{"class":22,"line":171},6,[20,173,48],{"emptyLinePlaceholder":47},[20,175,177,180,183,185],{"class":22,"line":176},7,[20,178,179],{"class":63},"  useEffect",[20,181,182],{"class":30},"(() ",[20,184,96],{"class":26},[20,186,187],{"class":30}," {\n",[20,189,191,194,197],{"class":22,"line":190},8,[20,192,193],{"class":30},"    callbackRef.current ",[20,195,196],{"class":26},"=",[20,198,199],{"class":30}," callback;\n",[20,201,203],{"class":22,"line":202},9,[20,204,205],{"class":30},"  }, [callback]);\n",[20,207,209],{"class":22,"line":208},10,[20,210,48],{"emptyLinePlaceholder":47},[20,212,214,216,219,221,224,226,228],{"class":22,"line":213},11,[20,215,130],{"class":26},[20,217,218],{"class":89}," set",[20,220,136],{"class":26},[20,222,223],{"class":63}," useCallback",[20,225,182],{"class":30},[20,227,96],{"class":26},[20,229,187],{"class":30},[20,231,233,236,238,241,243,245,248,251],{"class":22,"line":232},12,[20,234,235],{"class":30},"    timeoutRef.current ",[20,237,196],{"class":26},[20,239,240],{"class":63}," setTimeout",[20,242,182],{"class":30},[20,244,96],{"class":26},[20,246,247],{"class":30}," callbackRef.",[20,249,250],{"class":63},"current",[20,252,253],{"class":30},"(), delay);\n",[20,255,257],{"class":22,"line":256},13,[20,258,259],{"class":30},"  }, [delay]);\n",[20,261,263],{"class":22,"line":262},14,[20,264,48],{"emptyLinePlaceholder":47},[20,266,268,270,273,275,277,279,281],{"class":22,"line":267},15,[20,269,130],{"class":26},[20,271,272],{"class":89}," clear",[20,274,136],{"class":26},[20,276,223],{"class":63},[20,278,182],{"class":30},[20,280,96],{"class":26},[20,282,187],{"class":30},[20,284,286,289],{"class":22,"line":285},16,[20,287,288],{"class":26},"    if",[20,290,291],{"class":30}," (timeoutRef.current) {\n",[20,293,295,298],{"class":22,"line":294},17,[20,296,297],{"class":63},"      clearTimeout",[20,299,300],{"class":30},"(timeoutRef.current);\n",[20,302,304],{"class":22,"line":303},18,[20,305,306],{"class":30},"    }\n",[20,308,310],{"class":22,"line":309},19,[20,311,312],{"class":30},"  }, []);\n",[20,314,316],{"class":22,"line":315},20,[20,317,48],{"emptyLinePlaceholder":47},[20,319,321,323,325,327],{"class":22,"line":320},21,[20,322,179],{"class":63},[20,324,182],{"class":30},[20,326,96],{"class":26},[20,328,187],{"class":30},[20,330,332,335],{"class":22,"line":331},22,[20,333,334],{"class":63},"    set",[20,336,337],{"class":30},"();\n",[20,339,341,344],{"class":22,"line":340},23,[20,342,343],{"class":26},"    return",[20,345,346],{"class":30}," clear;\n",[20,348,350],{"class":22,"line":349},24,[20,351,352],{"class":30},"  }, [delay, set, clear]);\n",[20,354,356],{"class":22,"line":355},25,[20,357,48],{"emptyLinePlaceholder":47},[20,359,361,363,366,368,370,372,374],{"class":22,"line":360},26,[20,362,130],{"class":26},[20,364,365],{"class":89}," reset",[20,367,136],{"class":26},[20,369,223],{"class":63},[20,371,182],{"class":30},[20,373,96],{"class":26},[20,375,187],{"class":30},[20,377,379,382],{"class":22,"line":378},27,[20,380,381],{"class":63},"    clear",[20,383,337],{"class":30},[20,385,387,389],{"class":22,"line":386},28,[20,388,334],{"class":63},[20,390,337],{"class":30},[20,392,394],{"class":22,"line":393},29,[20,395,396],{"class":30},"  }, [clear, set]);\n",[20,398,400],{"class":22,"line":399},30,[20,401,48],{"emptyLinePlaceholder":47},[20,403,405,408],{"class":22,"line":404},31,[20,406,407],{"class":26},"  return",[20,409,410],{"class":30}," { reset, clear };\n",[20,412,414],{"class":22,"line":413},32,[20,415,416],{"class":30},"}\n",[418,419,420],"style",{},"html pre.shiki code .szBVR, html code.shiki .szBVR{--shiki-default:#D73A49;--shiki-dark:#F97583}html pre.shiki code .sVt8B, html code.shiki .sVt8B{--shiki-default:#24292E;--shiki-dark:#E1E4E8}html pre.shiki code .sZZnC, html code.shiki .sZZnC{--shiki-default:#032F62;--shiki-dark:#9ECBFF}html pre.shiki code .sScJk, html code.shiki .sScJk{--shiki-default:#6F42C1;--shiki-dark:#B392F0}html pre.shiki code .s4XuR, html code.shiki .s4XuR{--shiki-default:#E36209;--shiki-dark:#FFAB70}html pre.shiki code .sj4cs, html code.shiki .sj4cs{--shiki-default:#005CC5;--shiki-dark:#79B8FF}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":15,"searchDepth":44,"depth":44,"links":422},[],"2025-09-08","Type-friendly useTimeout hook with clear","mdx",{},"/snippets/use-timeout",{"title":5,"description":424},"snippets/use-timeout",[431,432,433],"react","typescript","hook","hSFK2bl5kIw_HrK9JvctTdv3KvyXjvw4wNg8lkapni0",{"id":4,"title":5,"body":436,"date":423,"description":424,"extension":425,"meta":732,"navigation":47,"path":427,"seo":733,"stem":429,"topics":734,"__hash__":434},{"type":7,"value":437,"toc":730},[438,728],[10,439,440],{"className":12,"code":13,"language":14,"meta":15,"style":15},[17,441,442,454,458,508,520,540,544,554,562,566,570,586,604,608,612,628,634,640,644,648,652,662,668,674,678,682,698,704,710,714,718,724],{"__ignoreMap":15},[20,443,444,446,448,450,452],{"class":22,"line":23},[20,445,27],{"class":26},[20,447,31],{"class":30},[20,449,34],{"class":26},[20,451,38],{"class":37},[20,453,41],{"class":30},[20,455,456],{"class":22,"line":44},[20,457,48],{"emptyLinePlaceholder":47},[20,459,460,462,464,466,468,470,472,474,476,478,480,482,484,486,488,490,492,494,496,498,500,502,504,506],{"class":22,"line":51},[20,461,54],{"class":26},[20,463,57],{"class":26},[20,465,60],{"class":26},[20,467,64],{"class":63},[20,469,67],{"class":30},[20,471,70],{"class":63},[20,473,73],{"class":26},[20,475,76],{"class":30},[20,477,79],{"class":26},[20,479,83],{"class":82},[20,481,86],{"class":26},[20,483,90],{"class":89},[20,485,93],{"class":30},[20,487,96],{"class":26},[20,489,99],{"class":89},[20,491,102],{"class":30},[20,493,105],{"class":82},[20,495,86],{"class":26},[20,497,110],{"class":63},[20,499,113],{"class":30},[20,501,116],{"class":82},[20,503,86],{"class":26},[20,505,121],{"class":89},[20,507,124],{"class":30},[20,509,510,512,514,516,518],{"class":22,"line":127},[20,511,130],{"class":26},[20,513,133],{"class":89},[20,515,136],{"class":26},[20,517,139],{"class":63},[20,519,142],{"class":30},[20,521,522,524,526,528,530,532,534,536,538],{"class":22,"line":145},[20,523,130],{"class":26},[20,525,150],{"class":89},[20,527,136],{"class":26},[20,529,139],{"class":63},[20,531,67],{"class":30},[20,533,159],{"class":63},[20,535,162],{"class":30},[20,537,165],{"class":63},[20,539,168],{"class":30},[20,541,542],{"class":22,"line":171},[20,543,48],{"emptyLinePlaceholder":47},[20,545,546,548,550,552],{"class":22,"line":176},[20,547,179],{"class":63},[20,549,182],{"class":30},[20,551,96],{"class":26},[20,553,187],{"class":30},[20,555,556,558,560],{"class":22,"line":190},[20,557,193],{"class":30},[20,559,196],{"class":26},[20,561,199],{"class":30},[20,563,564],{"class":22,"line":202},[20,565,205],{"class":30},[20,567,568],{"class":22,"line":208},[20,569,48],{"emptyLinePlaceholder":47},[20,571,572,574,576,578,580,582,584],{"class":22,"line":213},[20,573,130],{"class":26},[20,575,218],{"class":89},[20,577,136],{"class":26},[20,579,223],{"class":63},[20,581,182],{"class":30},[20,583,96],{"class":26},[20,585,187],{"class":30},[20,587,588,590,592,594,596,598,600,602],{"class":22,"line":232},[20,589,235],{"class":30},[20,591,196],{"class":26},[20,593,240],{"class":63},[20,595,182],{"class":30},[20,597,96],{"class":26},[20,599,247],{"class":30},[20,601,250],{"class":63},[20,603,253],{"class":30},[20,605,606],{"class":22,"line":256},[20,607,259],{"class":30},[20,609,610],{"class":22,"line":262},[20,611,48],{"emptyLinePlaceholder":47},[20,613,614,616,618,620,622,624,626],{"class":22,"line":267},[20,615,130],{"class":26},[20,617,272],{"class":89},[20,619,136],{"class":26},[20,621,223],{"class":63},[20,623,182],{"class":30},[20,625,96],{"class":26},[20,627,187],{"class":30},[20,629,630,632],{"class":22,"line":285},[20,631,288],{"class":26},[20,633,291],{"class":30},[20,635,636,638],{"class":22,"line":294},[20,637,297],{"class":63},[20,639,300],{"class":30},[20,641,642],{"class":22,"line":303},[20,643,306],{"class":30},[20,645,646],{"class":22,"line":309},[20,647,312],{"class":30},[20,649,650],{"class":22,"line":315},[20,651,48],{"emptyLinePlaceholder":47},[20,653,654,656,658,660],{"class":22,"line":320},[20,655,179],{"class":63},[20,657,182],{"class":30},[20,659,96],{"class":26},[20,661,187],{"class":30},[20,663,664,666],{"class":22,"line":331},[20,665,334],{"class":63},[20,667,337],{"class":30},[20,669,670,672],{"class":22,"line":340},[20,671,343],{"class":26},[20,673,346],{"class":30},[20,675,676],{"class":22,"line":349},[20,677,352],{"class":30},[20,679,680],{"class":22,"line":355},[20,681,48],{"emptyLinePlaceholder":47},[20,683,684,686,688,690,692,694,696],{"class":22,"line":360},[20,685,130],{"class":26},[20,687,365],{"class":89},[20,689,136],{"class":26},[20,691,223],{"class":63},[20,693,182],{"class":30},[20,695,96],{"class":26},[20,697,187],{"class":30},[20,699,700,702],{"class":22,"line":378},[20,701,381],{"class":63},[20,703,337],{"class":30},[20,705,706,708],{"class":22,"line":386},[20,707,334],{"class":63},[20,709,337],{"class":30},[20,711,712],{"class":22,"line":393},[20,713,396],{"class":30},[20,715,716],{"class":22,"line":399},[20,717,48],{"emptyLinePlaceholder":47},[20,719,720,722],{"class":22,"line":404},[20,721,407],{"class":26},[20,723,410],{"class":30},[20,725,726],{"class":22,"line":413},[20,727,416],{"class":30},[418,729,420],{},{"title":15,"searchDepth":44,"depth":44,"links":731},[],{},{"title":5,"description":424},[431,432,433],1751114697687]